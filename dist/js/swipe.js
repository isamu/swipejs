(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeBook"] = factory();
	else
		root["SwipeBook"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeBook.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeBook.js":
/*!**************************!*\
  !*** ./lib/SwipeBook.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _SwipeCounter = _interopRequireDefault(__webpack_require__(/*! ./SwipeCounter */ \"./lib/SwipeCounter.js\"));\n\nvar _SwipeMediaPlayer = _interopRequireDefault(__webpack_require__(/*! ./SwipeMediaPlayer */ \"./lib/SwipeMediaPlayer.js\"));\n\nvar _SwipeScreen = _interopRequireDefault(__webpack_require__(/*! ./SwipeScreen */ \"./lib/SwipeScreen.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeBook =\n/*#__PURE__*/\nfunction () {\n  _createClass(SwipeBook, null, [{\n    key: \"setTemplateElements\",\n    value: function setTemplateElements(template) {\n      this.templateElements = template;\n    }\n  }, {\n    key: \"getTemplateElements\",\n    value: function getTemplateElements() {\n      return this.templateElements;\n    }\n  }, {\n    key: \"setMarkdown\",\n    value: function setMarkdown(markdown) {\n      this.markdown = markdown;\n    }\n  }, {\n    key: \"getMarkdown\",\n    value: function getMarkdown() {\n      return this.markdown;\n    }\n  }, {\n    key: \"pageInDuration\",\n    value: function pageInDuration() {\n      return 400;\n    }\n  }]);\n\n  function SwipeBook(data) {\n    var defaultPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var base_css_id = arguments.length > 2 ? arguments[2] : undefined;\n    var back_css_id = arguments.length > 3 ? arguments[3] : undefined;\n\n    _classCallCheck(this, SwipeBook);\n\n    $('head').prepend('<meta name=\"viewport\" content=\"width = 640,user-scalable=no\">');\n    this.first_touch = false;\n    this.data = data;\n    this.title = \"Swipe\";\n    this.pages = [];\n    this.base_css_id = base_css_id;\n    this.back_css_id = back_css_id;\n    this.media_player = _SwipeMediaPlayer.default.getInstance();\n    this.loaded_callback = null;\n    this.start_callback = null;\n    this.finish_callback = null;\n\n    if (data[\"type\"] == \"net.swipe.list\") {\n      var html = [];\n      this.data.items.forEach(function (item, item_index) {\n        html.push('<li><a href=\"?file=' + item[\"url\"] + '\">' + item[\"title\"] + '</li>');\n      });\n      $(base_css_id).html(\"<ul>\" + html.join(\"\") + \"</ul>\");\n      this.setScreen();\n    } else {\n      $(base_css_id).html(\"\"); // \t\"type\":\"net.swipe.swipe\"\n\n      this.step = defaultPage;\n      SwipeBook.setTemplateElements(this.getTemplateElements());\n      SwipeBook.setMarkdown(this.getMarkdown());\n      this.templatePages = this.getTemplatePages();\n      this.setScreen();\n      this.paging = this.getPaging();\n      this.isLoaded = {};\n      this.isReady = false;\n      this.isFinished = false;\n      this.load();\n\n      if (this.step > this.pages.length) {\n        this.step = this.pages.length - 1;\n      }\n\n      if (this.pages.length > 0) {\n        this.domLoad();\n      }\n    }\n  }\n\n  _createClass(SwipeBook, [{\n    key: \"setScreen\",\n    value: function setScreen() {\n      this.dimension = this.data.dimension ? this.data.dimension : [$(window).width(), $(window).height()];\n\n      _SwipeScreen.default.init(this.dimension[0], this.dimension[1]);\n\n      this.bc = this.data.bc || \"#a9a9a9\";\n      this.setSwipeCss();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      var _this = this;\n\n      $.each(this.data[\"pages\"], function (index, page) {\n        var scene;\n\n        if (page[\"scene\"] && (scene = _this.templatePages[page[\"scene\"]])) {\n          scene = _this.templatePages[page[\"scene\"]];\n        }\n\n        if (page[\"template\"] && (scene = _this.templatePages[page[\"template\"]])) {\n          scene = _this.templatePages[page[\"template\"]];\n        } else if (_this.templatePages[\"*\"]) {\n          scene = _this.templatePages[\"*\"];\n        }\n\n        var pageInstance = new SwipePage(page, scene, index);\n\n        _this.pages.push(pageInstance);\n      });\n\n      if (this.data[\"title\"]) {\n        this.title = this.data[\"title\"];\n        document.title = this.title;\n      }\n    }\n  }, {\n    key: \"getTemplatePages\",\n    value: function getTemplatePages() {\n      if (this.data[\"templates\"] && this.data[\"templates\"][\"pages\"]) {\n        return this.data[\"templates\"][\"pages\"];\n      } else if (this.data[\"scenes\"]) {\n        return this.data[\"scenes\"];\n      }\n\n      return {};\n    }\n  }, {\n    key: \"getTemplateElements\",\n    value: function getTemplateElements() {\n      if (this.data[\"templates\"] && this.data[\"templates\"][\"elements\"]) {\n        return this.data[\"templates\"][\"elements\"];\n      } else if (this.data[\"elements\"]) {\n        return this.data[\"elements\"];\n      }\n\n      return {};\n    }\n  }, {\n    key: \"getMarkdown\",\n    value: function getMarkdown() {\n      if (this.data[\"markdown\"]) {\n        return this.data[\"markdown\"];\n      }\n\n      return {};\n    }\n  }, {\n    key: \"getPaging\",\n    value: function getPaging() {\n      if (this.data[\"paging\"] == \"leftToRight\" || this.data[\"paging\"] == \"vertical\" || this.data[\"paging\"] == \"rightToLeft\") {\n        return this.data[\"paging\"];\n      }\n\n      return \"vertical\";\n    }\n  }, {\n    key: \"setSwipeCss\",\n    value: function setSwipeCss() {\n      var x = ($(window).width() - _SwipeScreen.default.virtualwidth()) / 2.0;\n      $(\"#loading\").css({\n        height: _SwipeScreen.default.virtualheight(),\n        width: _SwipeScreen.default.virtualwidth(),\n        \"z-index\": 100,\n        \"background-color\": \"#fff\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        left: x\n      });\n      $(this.base_css_id).css({\n        height: _SwipeScreen.default.virtualheight(),\n        width: _SwipeScreen.default.virtualwidth(),\n        overflow: \"hidden\",\n        position: \"absolute\",\n        left: x\n      });\n\n      var height = _SwipeScreen.default.getSize();\n\n      $(this.back_css_id).css({\n        \"background-color\": this.bc,\n        \"height\": height + \"vh\",\n        \"width\": \"100vw\"\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      this.setScreen();\n\n      for (var i = 0; i < this.pages.length; i++) {\n        this.pages[i].resize();\n        this.justShow(i);\n      }\n\n      this.setPageSize();\n    }\n  }, {\n    key: \"setPageSize\",\n    value: function setPageSize() {\n      $(\"svg\").css(\"overflow\", \"visible\");\n      $(\".page\").css({\n        \"overflow\": \"hidden\",\n        \"height\": _SwipeScreen.default.virtualheight(),\n        \"width\": _SwipeScreen.default.virtualwidth()\n      });\n    }\n  }, {\n    key: \"pageLoad\",\n    value: function pageLoad(page_index) {\n      var instance = this;\n      var page = this.pages[page_index];\n      page.loadElement();\n\n      if (this.loadingBasePage > page_index) {\n        $(this.base_css_id).prepend(page.getHtml());\n      } else {\n        $(this.base_css_id).append(page.getHtml());\n      }\n\n      if (page_index == this.loadingBasePage) {\n        $(\"#page_\" + page_index).css(\"opacity\", 1);\n        page.active();\n      } else {\n        $(\"#page_\" + page_index).css(\"opacity\", 0);\n      }\n\n      var bc = page.getBc();\n      $(\"#page_\" + page_index).css({\n        \"background-color\": bc\n      });\n      $(\".image_element_page_\" + page_index).load(function () {\n        $(this).attr(\"__default_width\", $(this).width());\n        $(this).attr(\"__default_height\", $(this).height());\n        $(\"#\" + $(this).attr(\"__base_id\")).attr(\"__default_width\", $(this).width());\n        $(\"#\" + $(this).attr(\"__base_id\")).attr(\"__default_height\", $(this).height());\n        instance.initData($(this).attr(\"__page_id\"), $(this).attr(\"__element_id\"));\n        instance.counterDecrease();\n      });\n      $(\".element_page_\" + page_index).each(function (index, element) {\n        instance.initData($(element).attr(\"__page_id\"), $(element).attr(\"__element_id\"));\n        instance.counterDecrease();\n      });\n      $(\".video_element_\" + page_index).each(function (index, element) {\n        var __element = instance.pages[$(element).attr(\"__page_id\")].getElement($(element).attr(\"__element_id\"));\n\n        var player = new MediaElement($(element).attr(\"id\") + \"-video\", {\n          flashName: 'flashmediaelement.swf',\n          loop: true,\n          success: function success(mediaElement, domObject) {\n            __element.setVideoElement = mediaElement;\n          }\n        });\n        this.media_player = _SwipeMediaPlayer.default.getInstance();\n        var data = {\n          media: player,\n          canPlay: false,\n          currentTime: 0,\n          dom: $(\"#\" + $(element).attr(\"id\") + \"-video\")[0]\n        };\n\n        if (__element.videoStart) {\n          data[\"videoStart\"] = __element.videoStart;\n        }\n\n        if (__element.videoDuration) {\n          data[\"videoDuration\"] = __element.videoDuration;\n        }\n\n        this.media_player.page($(element).attr(\"__page_id\")).push($(element).attr(\"id\"), data);\n        instance.counterDecrease();\n      });\n      this.checkAndUpdateNextPage();\n    }\n  }, {\n    key: \"domLoad\",\n    value: function domLoad() {\n      var instance = this;\n      this.loadingPage = this.step;\n      this.loadingBasePage = this.step;\n      this.loadingPageOffset = 0;\n      this.pageLoad(this.loadingPage);\n      $(\"#debug\").css({\n        position: \"absolute\",\n        \"z-index\": 100\n      });\n      this.setPageSize();\n      this.updateCss();\n    }\n  }, {\n    key: \"updateCss\",\n    value: function updateCss() {\n      $(\".page\").css({\n        \"position\": \"absolute\"\n      });\n      $(\".image_element\").css({\n        \"position\": \"absolute\"\n      });\n      $(\".image_box\").css({\n        \"position\": \"absolute\"\n      });\n      $(\".element_inner\").css({\n        \"position\": \"relative\",\n        \"height\": \"100%\",\n        \"width\": \"inherit\"\n      });\n      $(\".video_element\").css({\n        \"position\": \"absolute\"\n      });\n      $(\".text_element\").css({\n        \"position\": \"absolute\"\n      });\n      $(\".svg_element\").css({\n        \"position\": \"absolute\"\n      });\n    }\n  }, {\n    key: \"nextLoadPage\",\n    value: function nextLoadPage() {\n      if (this.pages[this.loadingBasePage + Math.abs(this.loadingPageOffset)] === undefined && this.pages[this.loadingBasePage - Math.abs(this.loadingPageOffset)] === undefined) {\n        return null;\n      }\n\n      this.loadingPageOffset = this.loadingPageOffset * -1;\n\n      if (this.loadingPageOffset > -1) {\n        this.loadingPageOffset++;\n      }\n\n      if (this.pages[this.loadingBasePage + this.loadingPageOffset]) {\n        this.loadingPage = this.loadingBasePage + this.loadingPageOffset;\n        return this.loadingPage;\n      }\n\n      return this.nextLoadPage();\n    }\n  }, {\n    key: \"counterDecrease\",\n    value: function counterDecrease() {\n      _SwipeCounter.default.decrease();\n\n      $(\"#counter\").html(_SwipeCounter.default.getCounter());\n      this.checkAndUpdateNextPage();\n    }\n  }, {\n    key: \"checkAndUpdateNextPage\",\n    value: function checkAndUpdateNextPage() {\n      if (_SwipeCounter.default.getCounter() == 0) {\n        if (this.loadingPage == this.step) {\n          $(\"#loading\").remove();\n          this.show(this.step);\n        }\n\n        this.isLoaded[this.loadingPage] = true;\n        var next_page = this.nextLoadPage();\n\n        if (next_page !== null) {\n          console.log(\"load \", next_page);\n          this.pageLoad(next_page);\n          this.setPageSize();\n          this.updateCss();\n        } else {\n          this.loadFinish();\n        }\n      }\n\n      console.log(_SwipeCounter.default.getCounter());\n    }\n  }, {\n    key: \"loadFinish\",\n    value: function loadFinish() {\n      this.isReady = true; // $(\"#loading\").remove();\n\n      if (this.loaded_callback) {\n        this.loaded_callback();\n      }\n    }\n  }, {\n    key: \"set_loaded_callback\",\n    value: function set_loaded_callback(func) {\n      this.loaded_callback = func;\n    }\n  }, {\n    key: \"set_start_callback\",\n    value: function set_start_callback(func) {\n      this.start_callback = func;\n      console.log(this.start_callback);\n    }\n  }, {\n    key: \"set_finish_callback\",\n    value: function set_finish_callback(func) {\n      this.finish_callback = func;\n    }\n  }, {\n    key: \"initData\",\n    value: function initData(page_id, element_id) {\n      this.pages[page_id].initElement(element_id);\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      if (this.step === this.pages.length - 1) {\n        this.isFinished = true;\n\n        if (this.finish_callback) {\n          this.finish_callback(true);\n        }\n      }\n\n      if (this.isLoaded[this.step + 1]) {\n        if (this.step < this.pages.length - 1) {\n          this.show(this.step + 1);\n        }\n      }\n    }\n  }, {\n    key: \"back\",\n    value: function back() {\n      if (this.isLoaded[this.step - 1]) {\n        if (this.step > 0) {\n          this.show(this.step - 1);\n\n          if (this.isFinished) {\n            if (this.finish_callback) {\n              this.finish_callback(false);\n            }\n\n            this.isFinished = false;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getStep\",\n    value: function getStep() {\n      return this.step;\n    }\n  }, {\n    key: \"getPages\",\n    value: function getPages() {\n      return this.pages;\n    }\n  }, {\n    key: \"getPageSize\",\n    value: function getPageSize() {\n      return this.pages.length;\n    }\n  }, {\n    key: \"justShow\",\n    value: function justShow(step) {\n      this.pages[step].justShow();\n    }\n  }, {\n    key: \"nextAnimate\",\n    value: function nextAnimate(nextStep) {\n      var play_style = this.pages[nextStep].getPlayStyle();\n      var play = null;\n\n      if (play_style == \"auto\") {\n        this.pages[nextStep].delayShow();\n      } else if (play_style == \"scroll\") {\n        this.pages[nextStep].show();\n      } else if (play_style == \"always\") {\n        this.pages[nextStep].delayShow();\n      } else if (play_style == \"pause\") {\n        this.pages[nextStep].finShow();\n      }\n    }\n  }, {\n    key: \"prevAnimate\",\n    value: function prevAnimate(prevStep) {\n      var play_style = this.pages[prevStep].getPlayStyle();\n      var play = null;\n\n      if (play_style == \"auto\") {\n        this.pages[prevStep].finShow();\n      } else if (play_style == \"scroll\") {\n        this.pages[prevStep].show();\n      } else if (play_style == \"always\") {\n        this.pages[prevStep].delayShow();\n      } else if (play_style == \"pause\") {\n        this.pages[prevStep].finShow();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(nextStep) {\n      var currentStep = this.step;\n      var mode = nextStep >= currentStep ? \"forward\" : \"back\";\n      var loaded = nextStep == currentStep;\n\n      if (!loaded) {\n        this.pages[currentStep].inactive();\n        this.pages[nextStep].active();\n      }\n\n      if (!this.first_touch && this.isReady) {\n        this.media_player.load();\n        this.first_touch = true;\n\n        if (this.start_callback) {\n          this.start_callback();\n        }\n      }\n\n      var transition = this.pages[Math.max(currentStep, nextStep)].getTransition();\n      var currentTransition = this.pages[currentStep].getTransition();\n      var nextTransition = this.pages[nextStep].getTransition();\n      var instance = this;\n\n      if (mode == \"forward\") {\n        this.nextAnimate(nextStep);\n\n        if (nextTransition == \"fadeIn\") {\n          $(\"#page_\" + nextStep).animate({\n            \"opacity\": 1\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (nextTransition == \"replace\") {\n          $(\"#page_\" + nextStep).css({\n            \"opacity\": 1\n          });\n        } else if (nextTransition == \"scroll\") {\n          this.pageSlide(\"in\", nextStep);\n        } else if (nextTransition == \"slide\") {\n          this.pageSlideDown(\"in\", nextStep, loaded);\n        } else {\n          console.log(\"wrong transition in step \" + String(nextStep));\n        }\n\n        if (!loaded) {\n          if (currentTransition == \"fadeIn\") {\n            $(\"#page_\" + currentStep).animate({\n              \"opacity\": 0\n            }, {\n              duration: SwipeBook.pageInDuration()\n            });\n          } else if (currentTransition == \"replace\") {\n            setTimeout(function () {\n              $(\"#page_\" + currentStep).css({\n                \"opacity\": 0\n              });\n            }, SwipeBook.pageInDuration());\n          } else if (currentTransition == \"scroll\") {\n            this.pageSlide(\"out\", currentStep);\n          }\n        }\n      } else {\n        // in case back\n        console.log(\"back\");\n        this.prevAnimate(nextStep);\n\n        if (nextTransition == \"fadeIn\") {\n          $(\"#page_\" + nextStep).css({\n            \"opacity\": 0\n          });\n          $(\"#page_\" + nextStep).animate({\n            \"opacity\": 1\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (nextTransition == \"replace\") {\n          if (currentTransition == \"replace\") {\n            setTimeout(function () {\n              $(\"#page_\" + nextStep).css({\n                \"opacity\": 1\n              });\n            }, SwipeBook.pageInDuration());\n          } else {\n            $(\"#page_\" + nextStep).css({\n              \"opacity\": 1\n            });\n          }\n\n          setTimeout(function () {\n            instance.pages[nextStep].doLoopProcess();\n          }, SwipeBook.pageInDuration());\n        } else if (nextTransition == \"scroll\" && currentTransition == \"scroll\") {\n          $(\"#page_\" + nextStep).css({\n            \"opacity\": 1\n          });\n          this.pageSlide(\"out_back\", nextStep);\n        } else {\n          $(\"#page_\" + nextStep).css({\n            \"top\": 0,\n            \"left\": 0\n          });\n          $(\"#page_\" + nextStep).css({\n            \"opacity\": 1\n          });\n          setTimeout(function () {\n            instance.pages[nextStep].doLoopProcess();\n          }, SwipeBook.pageInDuration());\n        }\n\n        if (currentTransition == \"fadeIn\") {\n          $(\"#page_\" + currentStep).css({\n            \"opacity\": 1\n          });\n          $(\"#page_\" + currentStep).animate({\n            \"opacity\": 0\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (currentTransition == \"replace\") {\n          this.pages[currentStep].back();\n          setTimeout(function () {\n            $(\"#page_\" + currentStep).css({\n              \"opacity\": 0\n            });\n          }, SwipeBook.pageInDuration());\n        } else if (currentTransition == \"scroll\") {\n          this.pageSlide(\"in_back\", currentStep);\n        } else if (currentTransition == \"slide\") {\n          this.pageSlideDown(\"back\", currentStep, loaded);\n        }\n      }\n\n      if (!loaded) {\n        if (this.pages[nextStep].getPlayStyle() == \"auto\") {\n          console.log(\"AUTO NEXT\");\n          this.media_player.play(nextStep);\n        }\n\n        if (this.pages[nextStep].getPlayStyle() == \"scroll\") {\n          console.log(\"scroll NEXT\");\n          this.media_player.play(nextStep);\n        }\n      }\n\n      if (loaded) {\n        if (this.pages[currentStep].getPlayStyle() == \"auto\") {\n          this.media_player.play(currentStep);\n        }\n      }\n\n      this.step = nextStep;\n      location.hash = nextStep;\n    }\n  }, {\n    key: \"pageSlide\",\n    value: function pageSlide(mode, step) {\n      console.log(\"pageSlide\");\n\n      if (mode == \"in\") {\n        $(\"#page_\" + step).css(\"opacity\", 1);\n\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css(\"top\", _SwipeScreen.default.virtualheight());\n          $(\"#page_\" + step).animate({\n            \"top\": 0\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css(\"left\", _SwipeScreen.default.virtualwidth());\n          $(\"#page_\" + step).animate({\n            \"left\": 0\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (this.paging == \"rightToLeft\") {\n          $(\"#page_\" + step).css(\"left\", -_SwipeScreen.default.virtualwidth());\n          $(\"#page_\" + step).animate({\n            \"left\": 0\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        }\n      } else if (mode == \"out\") {\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css(\"top\", 0);\n          $(\"#page_\" + step).css(\"opacity\", 1);\n          $(\"#page_\" + step).animate({\n            \"top\": -_SwipeScreen.default.virtualheight()\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css(\"left\", 0);\n          $(\"#page_\" + step).css(\"opacity\", 1);\n          $(\"#page_\" + step).animate({\n            \"left\": -_SwipeScreen.default.virtualwidth()\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (this.paging == \"rightToLeft\") {\n          $(\"#page_\" + step).css(\"left\", 0);\n          $(\"#page_\" + step).css(\"opacity\", 1);\n          $(\"#page_\" + step).animate({\n            \"left\": _SwipeScreen.default.virtualwidth()\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        }\n\n        setTimeout(function () {\n          $(\"#page_\" + step).css(\"opacity\", 0);\n        }, SwipeBook.pageInDuration());\n      } else if (mode == \"in_back\") {\n        var option = {\n          duration: SwipeBook.pageInDuration(),\n          complete: function complete() {\n            $(\"#page_\" + step).css({\n              \"opacity\": 0\n            });\n          }\n        };\n\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css(\"top\", 0);\n          $(\"#page_\" + step).animate({\n            \"top\": _SwipeScreen.default.virtualheight()\n          }, option);\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css(\"left\", 0);\n          $(\"#page_\" + step).css(\"opacity\", 1);\n          $(\"#page_\" + step).animate({\n            \"left\": _SwipeScreen.default.virtualwidth(),\n            \"opacity\": 1\n          }, option);\n        } else if (this.paging == \"rightToLeft\") {\n          $(\"#page_\" + step).css(\"left\", 0);\n          $(\"#page_\" + step).css(\"opacity\", 1);\n          $(\"#page_\" + step).animate({\n            \"left\": -_SwipeScreen.default.virtualwidth(),\n            \"opacity\": 1\n          }, option);\n        }\n\n        setTimeout(function () {\n          $(\"#page_\" + step).css(\"opacity\", 0);\n        }, SwipeBook.pageInDuration());\n      } else if (mode == \"out_back\") {\n        $(\"#page_\" + step).css(\"opacity\", 1);\n        var _option = {\n          duration: SwipeBook.pageInDuration()\n        };\n\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css(\"top\", -_SwipeScreen.default.virtualheight());\n          $(\"#page_\" + step).animate({\n            \"top\": 0\n          }, _option);\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css(\"left\", -_SwipeScreen.default.virtualwidth());\n          $(\"#page_\" + step).css(\"opacity\", 1);\n          $(\"#page_\" + step).animate({\n            \"left\": 0,\n            \"opacity\": 1\n          }, _option);\n        } else if (this.paging == \"rightToLeft\") {\n          $(\"#page_\" + step).css(\"left\", _SwipeScreen.default.virtualwidth());\n          $(\"#page_\" + step).css(\"opacity\", 1);\n          $(\"#page_\" + step).animate({\n            \"left\": 0,\n            \"opacity\": 1\n          }, _option);\n        }\n      }\n    }\n  }, {\n    key: \"pageSlideDown\",\n    value: function pageSlideDown(mode, step, loaded) {\n      console.log(\"pageSlideDown\");\n\n      if (mode == \"in\") {\n        $(\"#page_\" + step).css({\n          \"opacity\": 0\n        });\n        var paging = this.paging;\n        setTimeout(function () {\n          $(\"#page_\" + step).css({\n            \"opacity\": 1\n          });\n\n          if (paging == \"vertical\") {\n            $(\"#page_\" + step).css(\"height\", 0);\n            $(\"#page_\" + step).animate({\n              \"height\": _SwipeScreen.default.virtualheight()\n            }, {\n              duration: SwipeBook.pageInDuration()\n            });\n            console.log(\"in vertical slide\");\n          } else if (paging == \"leftToRight\") {\n            $(\"#page_\" + step).css({\n              \"left\": 0,\n              \"width\": 0\n            });\n            $(\"#page_\" + step).animate({\n              \"width\": _SwipeScreen.default.virtualwidth()\n            }, {\n              duration: SwipeBook.pageInDuration()\n            });\n          } else if (paging == \"rightToLeft\") {// not supported\n          }\n        }, loaded ? 300 : 0);\n      } else if (mode == \"back\") {\n        var option = {\n          duration: SwipeBook.pageInDuration(),\n          complete: function complete() {\n            $(\"#page_\" + step).css({\n              \"opacity\": 0\n            });\n          }\n        };\n\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css(\"height\", _SwipeScreen.default.virtualheight());\n          setTimeout(function () {\n            $(\"#page_\" + step).animate({\n              \"height\": 0\n            }, {\n              duration: SwipeBook.pageInDuration()\n            });\n          }, loaded ? 200 : 0);\n          console.log(\"in_back vertical slide\");\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css({\n            \"left\": 0,\n            \"width\": _SwipeScreen.default.virtualwidth()\n          });\n          $(\"#page_\" + step).animate({\n            \"width\": 0\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        } else if (this.paging == \"rightToLeft\") {// not supported\n        }\n\n        setTimeout(function () {\n          $(\"#page_\" + step).css(\"opacity\", 0);\n        }, SwipeBook.pageInDuration());\n      }\n    }\n  }, {\n    key: \"pageSlideDown2\",\n    value: function pageSlideDown2(mode, step, ratio) {\n      console.log(\"pageSlideDown\");\n\n      if (mode == \"in\") {\n        $(\"#page_\" + step).css({\n          \"opacity\": 1\n        });\n\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css({\n            \"top\": 0,\n            \"height\": _SwipeScreen.default.virtualheight() * ratio\n          });\n          console.log(\"in vertical slide\");\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css({\n            \"left\": 0,\n            \"width\": _SwipeScreen.default.virtualwidth() * ratio\n          });\n        } else if (this.paging == \"rightToLeft\") {// not supported\n        }\n      } else if (mode == \"back\") {\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css({\n            \"top\": 0,\n            \"height\": _SwipeScreen.default.virtualheight() * (1 + ratio)\n          });\n          console.log(\"in_back vertical slide\");\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css({\n            \"left\": 0,\n            \"width\": _SwipeScreen.default.virtualwidth() * (1 + ratio)\n          });\n        } else if (this.paging == \"rightToLeft\") {// not supported\n        }\n      }\n    } // scroll\n\n  }, {\n    key: \"view\",\n    value: function view(ratio) {\n      var nextStep = this.step + (ratio > 0 ? 1 : -1);\n      var currentStep = this.step;\n      var mode = nextStep >= currentStep ? \"forward\" : \"back\";\n\n      if (nextStep < 0 || nextStep >= this.pages.length) {\n        return 0;\n      } //this.pages[currentStep].inactive()\n      //this.pages[nextStep].active();\n\n\n      if (mode == \"forward\" && this.pages[nextStep].getPlayStyle() == \"scroll\") {\n        // for video\n        this.media_player.playing(ratio);\n      }\n\n      if (mode == \"back\" && this.pages[currentStep].getPlayStyle() == \"scroll\") {\n        this.media_player.playing(ratio);\n      }\n\n      if (this.pages[nextStep].getPlayStyle() == \"pause\") {\n        // for video\n        this.pages[nextStep].pause();\n      }\n\n      var transition = this.pages[Math.max(currentStep, nextStep)].getTransition();\n      var currentTransition = this.pages[currentStep].getTransition();\n      var nextTransition = this.pages[nextStep].getTransition();\n      var instance = this;\n\n      if (mode == \"forward\") {\n        // transition \n        if (nextTransition == \"fadeIn\") {\n          $(\"#page_\" + nextStep).css({\n            \"opacity\": ratio\n          });\n        } else if (nextTransition == \"replace\") {\n          $(\"#page_\" + nextStep).css({\n            \"opacity\": 1\n          });\n        } else if (nextTransition == \"scroll\") {\n          this.pageSlide2(\"in\", nextStep, ratio);\n        } else if (nextTransition == \"slide\") {\n          this.pageSlideDown2(\"in\", nextStep, ratio);\n        } else {\n          console.log(\"wrong transition in step \" + String(nextStep));\n        }\n      } else {\n        // in case back\n        console.log(\"back\"); // transition \n\n        if (nextTransition == \"fadeIn\") {\n          $(\"#page_\" + nextStep).css({\n            \"opacity\": Math.abs(ratio)\n          });\n        }\n\n        if (currentTransition == \"fadeIn\") {\n          $(\"#page_\" + currentStep).css({\n            \"opacity\": 1 - Math.abs(ratio)\n          });\n        } else if (currentTransition == \"scroll\") {\n          this.pageSlide2(\"in_back\", currentStep, ratio);\n        } else if (currentTransition == \"slide\") {\n          this.pageSlideDown2(\"back\", currentStep, ratio);\n        }\n      }\n    }\n  }, {\n    key: \"nextStart\",\n    value: function nextStart(ratio) {\n      if (!this.first_touch && this.isReady) {\n        this.media_player.load();\n        /*\n         $(\"video\").each(( video_index, video) => {\n        // todo video\n        video.load();\n         });\n        */\n\n        if (this.start_callback) {\n          this.start_callback();\n        }\n\n        this.first_touch = true;\n      }\n\n      if (this.step + 1 >= this.pages.length) {\n        this.isFinished = true;\n\n        if (this.finish_callback) {\n          this.finish_callback(true);\n        }\n\n        return 0;\n      }\n\n      var nextPlayStyle = this.pages[this.step + 1].getPlayStyle();\n      this.pages[this.step + 1].prevShow();\n\n      if (nextPlayStyle == \"scroll\") {\n        $(\"#page_\" + String(this.step + 1)).css(\"opacity\", 1);\n        this.pages[this.step + 1].animateShow();\n      }\n\n      if (this.pages[this.step + 1].getPlayStyle() == \"auto\") {\n        this.media_player.play(this.step + 1);\n      }\n\n      if (this.pages[this.step + 1].getPlayStyle() == \"scroll\") {\n        this.media_player.play(this.step + 1);\n      }\n\n      if (this.pages[this.step + 1].getPlayStyle() == \"always\") {\n        this.media_player.play(this.step + 1);\n      }\n\n      if (this.pages[this.step + 1].getPlayStyle() == \"pause\") {\n        this.media_player.play(this.step + 1); // todo\n      }\n    }\n  }, {\n    key: \"nextHide\",\n    value: function nextHide() {\n      var nextStep = this.step + 1;\n\n      if (nextStep >= this.pages.length) {\n        return 0;\n      }\n\n      $(\"#page_\" + nextStep).css(\"opacity\", 0);\n      this.pages[nextStep].finShow();\n    }\n  }, {\n    key: \"nextEnd\",\n    value: function nextEnd() {\n      var nextStep = this.step + 1;\n\n      if (nextStep >= this.pages.length) {\n        return 0;\n      }\n\n      $(\"#page_\" + this.step).css(\"opacity\", 0);\n      $(\"#page_\" + nextStep).css(\"top\", 0);\n      $(\"#page_\" + nextStep).css(\"left\", 0);\n      $(\"#page_\" + nextStep).css(\"opacity\", 1);\n      $(\"#page_\" + nextStep).css(\"width\", _SwipeScreen.default.virtualwidth());\n      $(\"#page_\" + nextStep).css(\"height\", _SwipeScreen.default.virtualheight());\n      var nextPlayStyle = this.pages[nextStep].getPlayStyle();\n\n      if (nextPlayStyle == \"scroll\") {\n        this.pages[nextStep].finShow();\n      } else if (nextPlayStyle == \"auto\" || nextPlayStyle == \"always\") {\n        this.pages[nextStep].show();\n      }\n\n      this.step = nextStep;\n      location.hash = nextStep;\n    }\n  }, {\n    key: \"prevStart\",\n    value: function prevStart(ratio) {\n      console.log(\"prevStart\");\n\n      if (this.step <= 0) {\n        return 0;\n      }\n\n      if (this.isFinished) {\n        if (this.finish_callback) {\n          this.finish_callback(false);\n        }\n\n        this.isFinished = false;\n      }\n\n      var prevPlayStyle = this.pages[this.step - 1].getPlayStyle();\n      var currentPlayStyle = this.pages[this.step].getPlayStyle();\n      $(\"#page_\" + String(this.step - 1)).css(\"opacity\", 1);\n\n      if (prevPlayStyle == \"always\") {\n        this.pages[this.step - 1].prevShow();\n        this.media_player.play(this.step - 1);\n      } else {\n        this.pages[this.step - 1].finShow();\n        this.media_player.setCurrent(this.step - 1);\n      }\n\n      if (currentPlayStyle == \"scroll\") {\n        this.pages[this.step].finShow();\n        this.pages[this.step].animateShowBack();\n      }\n    }\n  }, {\n    key: \"prevHide\",\n    value: function prevHide() {\n      var nextStep = this.step - 1;\n\n      if (nextStep < 0) {\n        return 0;\n      }\n\n      $(\"#page_\" + nextStep).css(\"opacity\", 0);\n      this.pages[nextStep].finShow();\n    }\n  }, {\n    key: \"prevEnd\",\n    value: function prevEnd() {\n      var nextStep = this.step - 1;\n\n      if (nextStep < 0) {\n        return 0;\n      }\n\n      $(\"#page_\" + this.step).css(\"opacity\", 0);\n      $(\"#page_\" + nextStep).css(\"opacity\", 1);\n      $(\"#page_\" + nextStep).css(\"top\", 0);\n      $(\"#page_\" + nextStep).css(\"left\", 0);\n      var nextPlayStyle = this.pages[nextStep].getPlayStyle();\n\n      if (nextPlayStyle == \"always\") {\n        this.pages[nextStep].show();\n      } else {\n        this.pages[nextStep].finShow();\n      }\n\n      this.step = nextStep;\n      location.hash = nextStep;\n    }\n  }, {\n    key: \"pageSlide2\",\n    value: function pageSlide2(mode, step, ratio) {\n      if (mode == \"in\") {\n        $(\"#page_\" + step).css(\"opacity\", 1);\n\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css(\"top\", _SwipeScreen.default.virtualheight() * (1 - ratio));\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css(\"left\", _SwipeScreen.default.virtualwidth() * (1 - ratio));\n        } else if (this.paging == \"rightToLeft\") {\n          $(\"#page_\" + step).css(\"left\", -_SwipeScreen.default.virtualwidth());\n          $(\"#page_\" + step).animate({\n            \"left\": 0\n          }, {\n            duration: SwipeBook.pageInDuration()\n          });\n        }\n      } else if (mode == \"in_back\") {\n        if (this.paging == \"vertical\") {\n          $(\"#page_\" + step).css(\"top\", -_SwipeScreen.default.virtualheight() * ratio);\n        } else if (this.paging == \"leftToRight\") {\n          $(\"#page_\" + step).css(\"left\", -_SwipeScreen.default.virtualheight() * ratio);\n          $(\"#page_\" + step).css(\"opacity\", 1);\n        } else if (this.paging == \"rightToLeft\") {\n          $(\"#page_\" + step).css(\"left\", _SwipeScreen.default.virtualheight() * ratio);\n          $(\"#page_\" + step).css(\"opacity\", 1);\n        }\n      }\n    }\n  }]);\n\n  return SwipeBook;\n}();\n\nexports.default = SwipeBook;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeBook.js?");

/***/ }),

/***/ "./lib/SwipeCounter.js":
/*!*****************************!*\
  !*** ./lib/SwipeCounter.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeCounter =\n/*#__PURE__*/\nfunction () {\n  function SwipeCounter() {\n    _classCallCheck(this, SwipeCounter);\n  }\n\n  _createClass(SwipeCounter, null, [{\n    key: \"increase\",\n    value: function increase() {\n      if (window.counter === undefined) {\n        window.counter = 1;\n      } else {\n        window.counter++;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"decrease\",\n    value: function decrease() {\n      if (window.counter === undefined) {\n        window.counter = -1;\n      } else {\n        window.counter--;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"getCounter\",\n    value: function getCounter() {\n      return window.counter;\n    }\n  }]);\n\n  return SwipeCounter;\n}();\n\nexports.default = SwipeCounter;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeCounter.js?");

/***/ }),

/***/ "./lib/SwipeMediaPlayer.js":
/*!*********************************!*\
  !*** ./lib/SwipeMediaPlayer.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeMediaPlayer = function () {\n\t_createClass(SwipeMediaPlayer, null, [{\n\t\tkey: \"getInstance\",\n\t\tvalue: function getInstance() {\n\t\t\tif (this.instance) {\n\t\t\t\treturn this.instance;\n\t\t\t}\n\t\t\tthis.instance = new SwipeMediaPlayer();\n\t\t\treturn this.instance;\n\t\t}\n\t}]);\n\n\tfunction SwipeMediaPlayer() {\n\t\t_classCallCheck(this, SwipeMediaPlayer);\n\n\t\tthis.current_page = 0;\n\t\tthis.current_playing = null;\n\t\tthis.media = {};\n\t}\n\n\t_createClass(SwipeMediaPlayer, [{\n\t\tkey: \"page\",\n\t\tvalue: function page(num) {\n\t\t\tthis.current_page = num;\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\tkey: \"push\",\n\t\tvalue: function push(key, media) {\n\t\t\tif (!this.media[this.current_page]) {\n\t\t\t\tthis.media[this.current_page] = {};\n\t\t\t}\n\t\t\tthis.media[this.current_page][key] = media;\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\tkey: \"setCurrent\",\n\t\tvalue: function setCurrent() {\n\t\t\tvar page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (page) {\n\t\t\t\tthis.current_page = page;\n\t\t\t}\n\t\t\tvar instance = this;\n\t\t\tif (this.current_playing != this.current_page) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t\tif (this.media[this.current_page]) {\n\t\t\t\tvar page = this.media[this.current_page];\n\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\tvar data = page[key];\n\t\t\t\t\tvar player = data.media;\n\t\t\t\t\tvar duration = page[key] && page[key].videoDuration ? page[key].videoDuration : player.duration;\n\t\t\t\t\tvar start = page[key] && page[key].videoStart ? page[key].videoStart : 0;\n\t\t\t\t\tvar last = start + duration;\n\t\t\t\t\tplayer.setCurrentTime(last);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"play\",\n\t\tvalue: function play() {\n\t\t\tvar page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (page) {\n\t\t\t\tthis.current_page = page;\n\t\t\t}\n\t\t\tvar instance = this;\n\t\t\tif (this.current_playing != this.current_page) {\n\t\t\t\tthis.stop();\n\t\t\t\tif (this.media[this.current_page]) {\n\t\t\t\t\tvar page = this.media[this.current_page];\n\t\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\t\tvar data = page[key];\n\t\t\t\t\t\tvar player = data.media;\n\t\t\t\t\t\tvar start = 0;\n\t\t\t\t\t\tif (page[key] && page[key].videoStart) {\n\t\t\t\t\t\t\tstart = page[key].videoStart;\n\t\t\t\t\t\t\tplayer.setCurrentTime(start);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data[\"canPlay\"]) {\n\t\t\t\t\t\t\tplayer.currentTime = 0;\n\t\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t\t\tplayer.addEventListener('ended', function () {\n\t\t\t\t\t\t\t\tinstance.current_playing = null;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata[\"waitPlay\"] = true;\n\t\t\t\t\t\t\tinstance.media[instance.current_page][key] = data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (page[key] && page[key].videoDuration) {\n\t\t\t\t\t\t\tvar duration = page[key].videoDuration;\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t// accuracy of settimeout is not good. so I add  a second.\n\t\t\t\t\t\t\t\tif (player.currentTime + 1 > Number(start) + Number(duration)) {\n\t\t\t\t\t\t\t\t\tplayer.stop();\n\t\t\t\t\t\t\t\t\tinstance.current_playing = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, duration * 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.current_playing = this.current_page;\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\tkey: \"playing\",\n\t\tvalue: function playing(ratio) {\n\t\t\tif (ratio < 0) {\n\t\t\t\tratio = 1 + ratio;\n\t\t\t}\n\t\t\tvar instance = this;\n\t\t\tif (this.media[this.current_page]) {\n\t\t\t\tvar page = this.media[this.current_page];\n\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\tvar data = page[key];\n\t\t\t\t\tvar player = data.media;\n\t\t\t\t\tvar dom = page[key].dom;\n\t\t\t\t\tvar start = start = page[key] && page[key].videoStart ? page[key].videoStart : 0;\n\t\t\t\t\tvar duration = page[key] && page[key].videoDuration ? page[key].videoDuration : 1.0;\n\n\t\t\t\t\tvar currentTime = start + ratio * duration;\n\t\t\t\t\t//player.setCurrentTime(currentTime);\n\t\t\t\t\tif (Math.abs(data[\"currentTime\"] - currentTime) > 0.05) {\n\t\t\t\t\t\tdom.currentTime = currentTime;\n\t\t\t\t\t\tdata[\"currentTime\"] = currentTime;\n\t\t\t\t\t\tinstance.media[instance.current_page][key] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"load\",\n\t\tvalue: function load() {\n\t\t\tvar instance = this;\n\t\t\tObject.keys(this.media).forEach(function (key) {\n\t\t\t\tvar page = instance.media[key];\n\t\t\t\tObject.keys(page).forEach(function (key2) {\n\t\t\t\t\tvar data = page[key2];\n\t\t\t\t\tvar player = page[key2].media;\n\t\t\t\t\tplayer.addEventListener('loadeddata', function () {\n\t\t\t\t\t\tif (instance.media[key][key2][\"waitPlay\"]) {\n\t\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata[\"canPlay\"] = true;\n\t\t\t\t\t\tinstance.media[key][key2] = data;\n\t\t\t\t\t}, false);\n\t\t\t\t\tplayer.load();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"media\",\n\t\tvalue: function media() {\n\t\t\treturn this.media[this.current_page];\n\t\t}\n\t}, {\n\t\tkey: \"stop\",\n\t\tvalue: function stop() {\n\t\t\tif (this.current_playing !== null) {\n\t\t\t\tif (this.media[this.current_playing]) {\n\t\t\t\t\tvar page = this.media[this.current_playing];\n\t\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\t\tpage[key].media.stop();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.current_playing = null;\n\t\t}\n\t}]);\n\n\treturn SwipeMediaPlayer;\n}();\n\nexports.default = SwipeMediaPlayer;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeMediaPlayer.js?");

/***/ }),

/***/ "./lib/SwipeScreen.js":
/*!****************************!*\
  !*** ./lib/SwipeScreen.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeScreen = function () {\n\tfunction SwipeScreen() {\n\t\t_classCallCheck(this, SwipeScreen);\n\t}\n\n\t_createClass(SwipeScreen, null, [{\n\t\tkey: \"getSize\",\n\t\tvalue: function getSize() {\n\t\t\tif (window.swipe_screen_size) {\n\t\t\t\treturn window.swipe_screen_size[1];\n\t\t\t} else {\n\t\t\t\treturn 100;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"setSize\",\n\t\tvalue: function setSize(size) {\n\t\t\twindow.swipe_screen_size = [size, size];\n\t\t}\n\t}, {\n\t\tkey: \"setSizes\",\n\t\tvalue: function setSizes(width, height) {\n\t\t\twindow.swipe_screen_size = [width, height];\n\t\t}\n\t}, {\n\t\tkey: \"init\",\n\t\tvalue: function init(width, height) {\n\t\t\twindow.swipe_screen_width = width;\n\t\t\twindow.swipe_screen_height = height;\n\n\t\t\tif (window.swipe_screen_width == 0) {\n\t\t\t\twindow.swipe_screen_width = window.swipe_screen_height * $(window).width() / $(window).height();\n\t\t\t}\n\t\t\tif (window.swipe_screen_height == 0) {\n\t\t\t\twindow.swipe_screen_height = window.swipe_screen_width * $(window).height() / $(window).width();\n\t\t\t}\n\n\t\t\tSwipeScreen.setOriginalSize();\n\t\t\tSwipeScreen.setVirtualSize();\n\t\t}\n\t}, {\n\t\tkey: \"setOriginalSize\",\n\t\tvalue: function setOriginalSize() {\n\t\t\twindow.swipe_screen_window_width = $(window).width();\n\t\t\twindow.swipe_screen_window_height = $(window).height();\n\t\t}\n\n\t\t// todo\n\t\t//  set vertical and horizontal mode\n\n\t}, {\n\t\tkey: \"setVirtualSize\",\n\t\tvalue: function setVirtualSize() {\n\t\t\tvar size = window.swipe_screen_size || [100, 100];\n\t\t\tvar real_ratio = window.swipe_screen_window_width * size[0] / (window.swipe_screen_window_height * size[1]);\n\t\t\tvar virtual_ratio = window.swipe_screen_width / window.swipe_screen_height;\n\t\t\twindow.swipe_screen_ratio = 1.0;\n\n\t\t\tif (real_ratio / virtual_ratio >= 1) {\n\t\t\t\twindow.swipe_screen_virtual_height = $(window).height() * size[1] / 100;\n\t\t\t\twindow.swipe_screen_virtual_width = window.swipe_screen_width / window.swipe_screen_height * window.swipe_screen_virtual_height;\n\t\t\t} else {\n\t\t\t\twindow.swipe_screen_virtual_width = $(window).width() * size[0] / 100;\n\t\t\t\twindow.swipe_screen_virtual_height = window.swipe_screen_height / window.swipe_screen_width * window.swipe_screen_virtual_width;\n\t\t\t}\n\t\t\twindow.swipe_screen_ratio = window.swipe_screen_virtual_width / window.swipe_screen_width;\n\t\t}\n\t}, {\n\t\tkey: \"getRatio\",\n\t\tvalue: function getRatio() {\n\t\t\treturn window.swipe_screen_ratio;\n\t\t}\n\t}, {\n\t\tkey: \"swipewidth\",\n\t\tvalue: function swipewidth() {\n\t\t\treturn window.swipe_screen_width;\n\t\t}\n\t}, {\n\t\tkey: \"swipeheight\",\n\t\tvalue: function swipeheight() {\n\t\t\treturn window.swipe_screen_height;\n\t\t}\n\t}, {\n\t\tkey: \"virtualwidth\",\n\t\tvalue: function virtualwidth() {\n\t\t\treturn window.swipe_screen_virtual_width;\n\t\t}\n\t}, {\n\t\tkey: \"virtualheight\",\n\t\tvalue: function virtualheight() {\n\t\t\treturn window.swipe_screen_virtual_height;\n\t\t}\n\t}, {\n\t\tkey: \"refresh\",\n\t\tvalue: function refresh() {\n\t\t\tSwipeScreen.setOriginalSize();\n\t\t\tSwipeScreen.setVirtualSize();\n\t\t}\n\n\t\t// width\n\n\t}, {\n\t\tkey: \"virtualX\",\n\t\tvalue: function virtualX(x) {\n\t\t\tif (x == undefined) {\n\t\t\t\treturn window.swipe_screen_virtual_width;\n\t\t\t}\n\t\t\tif (window.swipe_screen_width) {\n\t\t\t\treturn x / window.swipe_screen_width * window.swipe_screen_virtual_width;\n\t\t\t}\n\t\t\treturn x;\n\t\t}\n\t}, {\n\t\tkey: \"virtualY\",\n\t\tvalue: function virtualY(y) {\n\t\t\tif (y == undefined) {\n\t\t\t\treturn window.swipe_screen_virtual_height;\n\t\t\t}\n\t\t\tif (window.swipe_screen_height) {\n\t\t\t\treturn y / window.swipe_screen_height * window.swipe_screen_virtual_height;\n\t\t\t}\n\t\t\treturn y;\n\t\t}\n\t}]);\n\n\treturn SwipeScreen;\n}();\n\nexports.default = SwipeScreen;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeScreen.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeCounter"] = factory();
	else
		root["SwipeCounter"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeCounter.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeCounter.js":
/*!*****************************!*\
  !*** ./lib/SwipeCounter.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeCounter =\n/*#__PURE__*/\nfunction () {\n  function SwipeCounter() {\n    _classCallCheck(this, SwipeCounter);\n  }\n\n  _createClass(SwipeCounter, null, [{\n    key: \"increase\",\n    value: function increase() {\n      if (window.counter === undefined) {\n        window.counter = 1;\n      } else {\n        window.counter++;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"decrease\",\n    value: function decrease() {\n      if (window.counter === undefined) {\n        window.counter = -1;\n      } else {\n        window.counter--;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"getCounter\",\n    value: function getCounter() {\n      return window.counter;\n    }\n  }]);\n\n  return SwipeCounter;\n}();\n\nexports.default = SwipeCounter;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeCounter.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeElement"] = factory();
	else
		root["SwipeElement"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeElement.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeCounter.js":
/*!*****************************!*\
  !*** ./lib/SwipeCounter.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeCounter =\n/*#__PURE__*/\nfunction () {\n  function SwipeCounter() {\n    _classCallCheck(this, SwipeCounter);\n  }\n\n  _createClass(SwipeCounter, null, [{\n    key: \"increase\",\n    value: function increase() {\n      if (window.counter === undefined) {\n        window.counter = 1;\n      } else {\n        window.counter++;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"decrease\",\n    value: function decrease() {\n      if (window.counter === undefined) {\n        window.counter = -1;\n      } else {\n        window.counter--;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"getCounter\",\n    value: function getCounter() {\n      return window.counter;\n    }\n  }]);\n\n  return SwipeCounter;\n}();\n\nexports.default = SwipeCounter;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeCounter.js?");

/***/ }),

/***/ "./lib/SwipeElement.js":
/*!*****************************!*\
  !*** ./lib/SwipeElement.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _SwipeCounter = _interopRequireDefault(__webpack_require__(/*! ./SwipeCounter */ \"./lib/SwipeCounter.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeElement =\n/*#__PURE__*/\nfunction () {\n  function SwipeElement(info, page_id, element_id, play, duration) {\n    var parent = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n    _classCallCheck(this, SwipeElement);\n\n    var css_id = \"element-\" + page_id + \"-\" + element_id;\n    this.info = this.mergeTemplate(info);\n    this.to_info = this.info[\"to\"] ? SwipeUtil.merge(this.info, this.info[\"to\"]) : null;\n    this.css_id = css_id;\n    this.page_id = page_id;\n    this.element_id = element_id;\n    this.play_style = play;\n    this.duration = duration;\n    this.parent = parent;\n    this.isActive = false;\n    this.videoStart = 0;\n    this.videoDuration = null;\n    this.isRepeat = Boolean(info[\"repeat\"]);\n    this.x = 0;\n    this.y = 0;\n    this.angle = this.info[\"rotate\"] ? this.getAngle(this.info[\"rotate\"]) : 0;\n    this.to_angle = this.to_info && this.to_info[\"rotate\"] ? this.getAngle(this.to_info[\"rotate\"]) : 0;\n    this.scale = this.getScale(this.info);\n    this.to_scale = this.to_info ? this.getScale(this.to_info) : [1.0, 1.0];\n    this.no_size = false;\n    this.transition_timing = null;\n    this.loop_timing = null;\n    this.elements = [];\n    var instance = this;\n    this.bc = null;\n\n    if (this.info[\"bc\"]) {\n      this.bc = this.info[\"bc\"];\n    }\n\n    if (this.info[\"elements\"]) {\n      if (!this.isPathRoot()) {\n        var elements = [];\n\n        if (Array.isArray(this.info[\"elements\"])) {\n          elements = this.info[\"elements\"];\n        } else {\n          elements = [this.info[\"elements\"]];\n        }\n\n        elements.forEach(function (element, elem_index) {\n          var e_id = element_id + \"-\" + elem_index;\n          instance.elements.push(new SwipeElement(element, page_id, e_id, play, duration, instance));\n        });\n      }\n    }\n  }\n\n  _createClass(SwipeElement, [{\n    key: \"mergeTemplate\",\n    value: function mergeTemplate(info) {\n      // template\n      if (info[\"element\"] || info[\"template\"]) {\n        var elementTemplate = SwipeBook.getTemplateElements();\n        var elem;\n\n        if (elem = elementTemplate[info[\"element\"] || info[\"template\"]]) {\n          info = SwipeParser.inheritProperties(info, elem);\n        }\n      }\n\n      return info;\n    }\n  }, {\n    key: \"insertBr\",\n    value: function insertBr(text) {\n      return text.replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\");\n    }\n  }, {\n    key: \"parseText\",\n    value: function parseText(element) {\n      if (typeof element == \"string\") {\n        return element;\n      } else if (_typeof(element) == \"object\") {\n        if (element[\"ref\"]) {\n          return SwipeParser.localizedStringForKey(element[\"ref\"]);\n        } else {\n          // todo localize\n          return SwipeParser.localizedString(element, \"ja\");\n        }\n      }\n\n      return \"\";\n    }\n  }, {\n    key: \"parseMarkdown\",\n    value: function parseMarkdown(element) {\n      var info = SwipeBook.getMarkdown();\n      var parser = new SwipeMarkdown(info);\n      return parser.parse(element, this.css_id);\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(index) {\n      if (index !== undefined) {\n        var indexes = index.split(\"-\");\n\n        if (indexes.length == 1) {\n          return this.elements[index];\n        } else {\n          return this.elements[indexes.shift()].getElement(indexes.join(\"-\"));\n        }\n\n        return;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"initData\",\n    value: function initData(index) {\n      if (index !== undefined) {\n        var indexes = index.split(\"-\");\n\n        if (indexes.length == 1) {\n          this.elements[index].initData();\n        } else {\n          this.elements[indexes.shift()].initData(indexes.join(\"-\"));\n        }\n\n        return;\n      }\n\n      if (this.isDiv() || this.isMarkdown()) {\n        if (!this.parent) {\n          $(\"#\" + this.css_id).css(\"position\", \"absolute\");\n        }\n      }\n\n      if (this.isPath()) {\n        this.snap = Snap(\"#\" + this.css_id + \"_svg\");\n        this.path = this.snap.path();\n      }\n\n      if (this.isVideo()) {\n        this.initVideo();\n      }\n\n      this.setSize();\n      this.setPosition();\n      this.setOption();\n      $(\"#\" + this.css_id).attr(\"__x\", this.x);\n      $(\"#\" + this.css_id).attr(\"__y\", this.y);\n      $(\"#\" + this.css_id).attr(\"__w\", this.w);\n      $(\"#\" + this.css_id).attr(\"__h\", this.h);\n\n      if (this.bc) {\n        $(\"#\" + this.css_id).css({\n          \"background-color\": this.bc\n        });\n      }\n\n      if (this.isImage()) {\n        this.setImageCss();\n      }\n\n      this.initAllData();\n\n      if (this.isPath()) {\n        this.prevPath = this.parsePath();\n        this.finPath = this.parseFinPath();\n      }\n\n      this.setPrevPos(); // set md wrap\n\n      this.markdown_position();\n    }\n  }, {\n    key: \"setImageCss\",\n    value: function setImageCss() {\n      var div_ratio = this.w / this.h;\n      var w = $(\"#\" + this.css_id + \"_image\").attr(\"__default_width\");\n      var h = $(\"#\" + this.css_id + \"_image\").attr(\"__default_height\");\n      var image_ratio = w / h;\n\n      if (div_ratio < image_ratio) {\n        $(\"#\" + this.css_id + \"_image\").css(\"height\", \"100%\");\n        $(\"#\" + this.css_id + \"_image\").css(\"width\", \"auto\");\n      } else {\n        $(\"#\" + this.css_id + \"_image\").css(\"height\", \"auth\");\n        $(\"#\" + this.css_id + \"_image\").css(\"width\", \"100%\");\n      }\n\n      $(\"#\" + this.css_id + \"_image\").css(\"top\", \"50%\");\n      $(\"#\" + this.css_id + \"_image\").css(\"left\", \"50%\");\n      $(\"#\" + this.css_id + \"_image\").css(\"transform\", \"translate(-50%,-50%)\");\n      $(\"#\" + this.css_id + \"_image\").css(\"-webkit-transform\", \"translateY(-50%) translateX(-50%)\");\n      $(\"#\" + this.css_id + \"_image\").css(\"-moz-transform\", \"translate(-50%,-50%)\");\n    }\n  }, {\n    key: \"initAllData\",\n    value: function initAllData() {\n      this.initPosData = [Number(this.x), Number(this.y), Number(this.w), Number(this.h), Number(this.angle), Number(this.opacity), this.scale];\n\n      if (this.isText()) {}\n\n      this.originalPrevPos = this.updatePosition(this.initPosData, this.info);\n      this.prevPos = this.getScreenPosition(this.originalPrevPos);\n      this.originalFinPos = this.getOriginalFinPos();\n      this.finPos = this.getScreenPosition(this.originalFinPos);\n\n      if (this.isText()) {\n        this.prevText = this.textLayout(this.info, this.originalPrevPos);\n        this.finText = this.textLayout(this.info, this.originalFinPos);\n      }\n    }\n  }, {\n    key: \"getOriginalFinPos\",\n    value: function getOriginalFinPos() {\n      if (this.hasTo()) {\n        var pos = this.initPosData;\n\n        if (this.info[\"to\"][\"pos\"] && this.info[\"to\"][\"pos\"].match(/^M/)) {//let tmp_pos = this.path2pos(this.info[\"to\"][\"pos\"]);\n          // pos[0] = pos[0] + tmp_pos[0];\n          // pos[1] = pos[1] + tmp_pos[1];\n        }\n\n        return this.updatePosition(pos, this.to_info);\n      } else {\n        return this.originalPrevPos;\n      }\n    }\n  }, {\n    key: \"path2pos\",\n    value: function path2pos(pos) {\n      var res = [0, 0];\n      var match = pos.match(/(\\w[0-9\\s\\.,\\-]+)/g);\n      $.each(match, function (index, path) {\n        var cmd = path.slice(0, 1);\n        var p = path.slice(1).split(\",\");\n\n        if (cmd == \"M\") {\n          res = [Number(p[0]), Number(p[1])];\n        }\n\n        if (cmd == \"l\") {\n          res = [Number(res[0]) + Number(p[0]), Number(res[1]) + Number(p[1])];\n        }\n      });\n      return res;\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption() {\n      this.opacity = 1.0;\n\n      if (this.info[\"opacity\"] != null) {\n        this.opacity = this.info[\"opacity\"];\n      }\n\n      if (this.info[\"clip\"] && this.info[\"clip\"] === true) {\n        $(\"#\" + this.css_id).css(\"overflow\", \"hidden\");\n      }\n\n      if (this.info._pathRoot) {\n        $(\"#\" + this.css_id).css(\"overflow\", \"hidden\");\n      }\n    }\n  }, {\n    key: \"initVideo\",\n    value: function initVideo() {\n      this.videoStart = 0;\n\n      if (this.info[\"videoStart\"]) {\n        this.videoStart = this.info[\"videoStart\"];\n      }\n\n      this.videoDuration = 1;\n\n      if (this.info[\"videoDuration\"]) {\n        this.videoDuration = this.info[\"videoDuration\"];\n      }\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      if (this.info[\"size\"]) {\n        this.w = this.info[\"size\"][0];\n        this.h = this.info[\"size\"][1];\n      } else {\n        if (this.info[\"w\"]) {\n          this.w = SwipeParser.parseSize(this.info[\"w\"], this.getWidth(), this.getWidth());\n        } else {\n          if (this.isImage()) {\n            this.w = $(\"#\" + this.css_id).attr(\"__default_width\");\n          } else {\n            this.w = this.parentWidth();\n            this.no_size = true;\n          }\n        }\n\n        if (this.info[\"h\"]) {\n          this.h = SwipeParser.parseSize(this.info[\"h\"], this.getHeight(), this.getHeight());\n        } else {\n          if (this.isImage()) {\n            this.h = $(\"#\" + this.css_id).attr(\"__default_height\");\n          } else {\n            this.h = this.parentHeight();\n            this.no_size = true;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition() {\n      if (this.info[\"pos\"]) {\n        this.x = this.info[\"pos\"][0];\n        this.y = this.info[\"pos\"][1];\n      } else {\n        if (this.info[\"x\"] == \"right\") {\n          this.x = this.parentWidth() - this.w;\n        } else if (this.info[\"x\"] == \"left\") {\n          this.x = 0;\n        } else if (this.info[\"x\"] == \"center\") {\n          this.x = (this.parentWidth() - this.w) / 2.0;\n        } else if (this.info[\"x\"]) {\n          this.x = SwipeParser.parseSize(this.info[\"x\"], this.parentWidth(), 0);\n        }\n\n        if (this.info[\"y\"] == \"bottom\") {\n          this.y = this.parentHeight() - this.h;\n        } else if (this.info[\"y\"] == \"top\") {\n          this.y = 0;\n        } else if (this.info[\"y\"] == \"center\") {\n          this.y = (this.parentHeight() - this.h) / 2.0;\n        } else if (this.info[\"y\"]) {\n          this.y = SwipeParser.parseSize(this.info[\"y\"], this.parentHeight(), 0);\n        }\n      }\n    }\n  }, {\n    key: \"getAngle\",\n    value: function getAngle(data) {\n      if (SwipeParser.is(\"Array\", data)) {\n        return data[2];\n      } else if (data) {\n        return data;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      if (this.w) {\n        return this.w;\n      }\n\n      if (this.parent) {\n        return this.parent.getWidth();\n      }\n\n      return SwipeScreen.swipewidth();\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      if (this.h) {\n        return this.h;\n      }\n\n      if (this.parent) {\n        return this.parent.getHeight();\n      }\n\n      return SwipeScreen.swipeheight();\n    }\n  }, {\n    key: \"parentWidth\",\n    value: function parentWidth() {\n      var width;\n\n      if (this.parent) {\n        width = this.parent.getWidth();\n      }\n\n      if (width) {\n        return width;\n      }\n\n      return SwipeScreen.swipewidth();\n    }\n  }, {\n    key: \"parentHeight\",\n    value: function parentHeight() {\n      var height;\n\n      if (this.parent) {\n        height = this.parent.getHeight();\n      }\n\n      if (height) {\n        return height;\n      }\n\n      return SwipeScreen.swipeheight();\n    } // end of data parse \n    // set or animate position\n\n  }, {\n    key: \"setVideo\",\n    value: function setVideo(data) {\n      var instance = this;\n      $(\"#\" + this.css_id + \"-video\").css(this.convCssPos(data, true));\n    }\n  }, {\n    key: \"getSpritePos\",\n    value: function getSpritePos() {\n      var w = this.prevPos[2];\n      var h = this.prevPos[3];\n      return [-(w * this.info.slot[0]), -(h * this.info.slot[1]), w * this.info.slice[0], h * this.info.slice[1]];\n    }\n  }, {\n    key: \"getSpriteCss\",\n    value: function getSpriteCss(pos) {\n      return {\n        left: pos[0],\n        top: pos[1],\n        width: pos[2],\n        height: pos[3]\n      };\n    }\n  }, {\n    key: \"setSpritePos\",\n    value: function setSpritePos(pos) {\n      $(\"#\" + this.css_id + \"_sprite\").css(this.getSpriteCss(pos));\n    }\n  }, {\n    key: \"prevShow\",\n    value: function prevShow() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.prevShow();\n        });\n      }\n\n      this.setPrevPos();\n    }\n  }, {\n    key: \"setPrevPos\",\n    value: function setPrevPos() {\n      var instance = this;\n      $(\"#\" + this.css_id).css(this.convCssPos(this.prevPos));\n\n      if (this.isVideo()) {\n        this.setVideo(this.prevPos);\n      }\n\n      if (this.isSprite()) {\n        var sprite_pos = this.getSpritePos();\n        this.setSpritePos(sprite_pos);\n      }\n\n      if (this.isText()) {\n        $(\"#\" + this.css_id + \"-body\").css(this.prevText);\n\n        if (this.info[\"textVertical\"]) {\n          $(\"#\" + this.css_id).css(this.textVertical());\n        }\n      }\n\n      if (this.isPath()) {\n        this.path.attr(this.prevPath.path);\n        this.path.attr({\n          fill: this.prevPath.fill\n        });\n      }\n\n      if (this.isMarkdown()) {\n        this.md_css.forEach(function (element, elem_index) {\n          $(\"#\" + instance.css_id + \"-\" + elem_index).css(element);\n        });\n      }\n    } // scale and container height(is my height)\n    // data is original data not screen converted data.\n\n  }, {\n    key: \"textLayout\",\n    value: function textLayout(info, data) {\n      var x = \"center\";\n      var textAlign = \"center\";\n\n      if (info[\"textAlign\"]) {\n        switch (info[\"textAlign\"]) {\n          case \"left\":\n            textAlign = \"left\";\n            break;\n\n          case \"right\":\n            textAlign = \"right\";\n            break;\n\n          case \"top\":\n            x = \"top\";\n            break;\n\n          case \"bottom\":\n            x = \"bottom\";\n            break;\n        }\n      }\n\n      var fontname = SwipeParser.parseFontName(info, false);\n\n      var fontSize = function (info, scale) {\n        var defaultSize = 20 / 480 * SwipeScreen.swipeheight();\n        var size = SwipeParser.parseFontSize(info, SwipeScreen.swipeheight(), defaultSize, false);\n        return Math.round(size * Math.abs(scale[1]));\n      }(info, data[6]);\n\n      var containerHeight = fontSize;\n      var divHeight = data[3];\n      var top = x == \"bottom\" ? divHeight - containerHeight : 0;\n      var ret_base = {\n        top: String(SwipeScreen.virtualY(top)) + \"px\",\n        position: \"relative\",\n        \"font-size\": String(Math.round(fontSize)) + \"px\",\n        \"line-height\": String(Math.round(Math.abs(fontSize * 1.5))) + \"px\",\n        \"font-family\": String(fontname),\n        \"textAlign\": textAlign,\n        \"color\": this.conv_rgba2rgb(SwipeParser.parseColor(info, \"#000\")) // todo font size\n\n      };\n\n      if (x == \"center\") {\n        ret_base = SwipeUtil.merge(ret_base, {\n          \"width\": \"inherit\",\n          \"height\": String(SwipeScreen.virtualY(divHeight)) + \"px\",\n          \"display\": \"table-cell\",\n          \"vertical-align\": \"middle\"\n        });\n      }\n\n      return ret_base;\n    }\n  }, {\n    key: \"textVertical\",\n    value: function textVertical() {\n      return {\n        \"-webkit-writing-mode\": \"vertical-rl\",\n        \"-ms-writing-mode\": \"tb-rl\",\n        \"writing-mode\": \"vertical-rl\"\n      };\n    }\n  }, {\n    key: \"conv_rgba2rgb\",\n    value: function conv_rgba2rgb(color) {\n      var match;\n\n      if (match = color.match(/^(#\\w{6})(\\w{2})$/)) {\n        return match[1];\n      }\n\n      return color;\n    }\n  }, {\n    key: \"transformPath\",\n    value: function transformPath(info, scale) {\n      var ret = [];\n      var default_scale = [SwipeScreen.getRatio(), SwipeScreen.getRatio()];\n      var scale_array = [];\n      var scale_x = Math.abs(scale[0]);\n      var scale_y = Math.abs(scale[1]);\n      scale_array = [default_scale[0] * scale_x, default_scale[1] * scale_y];\n      var cx = 0;\n      var cy = 0;\n\n      if (scale && (scale_x != 1.0 || scale_y != 1.0)) {\n        cx = (1 - scale_x) * this.prevPos[2] / 2;\n        cy = (1 - scale_y) * this.prevPos[3] / 2;\n        ret.push(\"translate(\" + String(cx) + \",\" + String(cy) + \")\");\n      } // todo position check\n\n\n      ret.push(\"scale(\" + scale_array.join(\",\") + \")\");\n      return ret.join(\" \");\n    }\n  }, {\n    key: \"parsePath\",\n    value: function parsePath() {\n      var line = this.info.lineWidth ? this.info.lineWidth : 1;\n      var strokeColor = this.info.strokeColor ? this.info.strokeColor : \"black\"; // todo rpga color \n\n      var fillColor = this.info.fillColor ? this.info.fillColor == \"#0000\" ? \"none\" : this.info.fillColor : \"none\";\n      return {\n        path: {\n          d: this.info.path,\n          transform: this.transformPath(this.info, this.scale),\n          stroke: this.conv_rgba2rgb(strokeColor),\n          strokeWidth: line\n        },\n        fill: this.conv_rgba2rgb(fillColor)\n      };\n    }\n  }, {\n    key: \"parseFinPath\",\n    value: function parseFinPath() {\n      if (!this.hasTo()) {\n        return this.prevPath;\n      }\n\n      var info = SwipeUtil.merge(this.info, this.info[\"to\"]);\n      var line = info.lineWidth ? info.lineWidth : 1;\n      var strokeColor = info.strokeColor ? info.strokeColor : \"black\";\n      var fillColor = info.fillColor ? info.fillColor == \"#0000\" ? \"none\" : info.fillColor : \"none\";\n      var r = info.rotate ? [info.rotate[2], this.prevPos[2] / 2, this.prevPos[3] / 2].join(\",\") : \"0,0,0\";\n      return {\n        path: {\n          d: info.path,\n          transform: this.transformPath(info, this.getScale(info)),\n          stroke: this.conv_rgba2rgb(strokeColor),\n          strokeWidth: line\n        },\n        fill: this.conv_rgba2rgb(fillColor)\n      };\n    }\n  }, {\n    key: \"animatePrevPos\",\n    value: function animatePrevPos() {\n      if (this.hasTo()) {\n        var instance = this;\n        $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.prevPos), {\n          duration: this.duration,\n          progress: function progress(a, b) {\n            instance.animateTransform(1 - b);\n\n            if (instance.isPath()) {\n              $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n            }\n          }\n        });\n\n        if (this.isText()) {\n          if (instance.finText[\"font-family\"]) {\n            delete instance.finText[\"font-family\"];\n          }\n\n          $(\"#\" + this.css_id + \"-body\").animate(this.prevText, {\n            duration: this.duration\n          });\n        }\n        /*\n          if (this.isVideo()){\n         $(\"#\" + this.css_id + \"-video\").animate(this.convCssPos(this.prevPos), {\n         duration: do_duration\n         });\n          }\n        */\n\n\n        if (this.isPath()) {\n          var path = SwipeParser.clone(this.prevPath.path);\n          delete path.stroke;\n          this.path.animate(path, this.duration);\n\n          if (this.prevPath.fill != this.finPath.fill) {\n            this.path.attr({\n              fill: this.prevPath.fill\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"markdown_position\",\n    value: function markdown_position() {\n      if (this.isMarkdown()) {\n        var x = ($(\"#\" + this.css_id).height() - $(\"#md_\" + this.css_id).height()) / 2;\n        $(\"#md_\" + this.css_id).css({\n          top: x,\n          position: \"absolute\"\n        });\n      }\n    }\n  }, {\n    key: \"setFinPos\",\n    value: function setFinPos() {\n      $(\"#\" + this.css_id).css(this.convCssPos(this.finPos));\n\n      if (this.isVideo()) {\n        this.setVideo(this.finPos);\n      }\n\n      if (this.isText()) {\n        var text_css = this.textLayout(this.info, this.originalFinPos);\n        $(\"#\" + this.css_id + \"-body\").css(text_css);\n\n        if (this.info[\"textVertical\"]) {\n          $(\"#\" + this.css_id).css(this.textVertical());\n        }\n      }\n\n      if (this.isPath()) {\n        this.path.attr(this.finPath.path);\n        this.path.attr({\n          fill: this.finPath.fill\n        });\n      }\n    } // transform orders are rotate, scale.\n    // path is not scale here\n\n  }, {\n    key: \"animateTransform\",\n    value: function animateTransform(ratio) {\n      var transform = [];\n\n      if (this.angle != this.to_angle) {\n        var angle = this.angle * (1 - ratio) + this.to_angle * ratio;\n        transform.push(\"rotate(\" + angle + \"deg)\");\n      } else {\n        transform.push(\"rotate(\" + this.angle + \"deg)\");\n      }\n\n      if (!this.isPath() && !this.isText()) {\n        if (this.scale != this.to_scale) {\n          var scale = [this.scale[0] * (1 - ratio) + this.to_scale[0] * ratio, this.scale[1] * (1 - ratio) + this.to_scale[1] * ratio];\n          transform.push(\"scale(\" + scale[0] + \", \" + scale[1] + \")\");\n        } else {\n          transform.push(\"scale(\" + this.scale[0] + \", \" + this.scale[1] + \")\");\n        }\n      }\n\n      $(\"#\" + this.css_id).css(this.getTransform(transform));\n    }\n  }, {\n    key: \"animateFinPos\",\n    value: function animateFinPos() {\n      if (this.hasTo()) {\n        this.transition_timing = this.getTiming(this.info[\"to\"], this.duration);\n        var start_duration = this.transition_timing[0];\n        var do_duration = this.transition_timing[1];\n        console.log(do_duration);\n        var instance = this;\n        setTimeout(function () {\n          $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.finPos), {\n            duration: do_duration,\n            progress: function progress(a, b) {\n              instance.animateTransform(b);\n\n              if (instance.isPath()) {\n                $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n              }\n            }\n          });\n\n          if (instance.isVideo()) {\n            $(\"#\" + instance.css_id + \"-video\").animate(instance.convCssPos(instance.finPos), {\n              duration: do_duration\n            });\n          }\n\n          if (instance.isText()) {\n            if (instance.finText[\"font-family\"]) {\n              delete instance.finText[\"font-family\"];\n            }\n\n            $(\"#\" + instance.css_id + \"-body\").animate(instance.finText, {\n              duration: do_duration\n            });\n          }\n\n          if (instance.isPath()) {\n            var path = SwipeParser.clone(instance.finPath.path);\n            delete path.stroke;\n            instance.path.animate(path, do_duration); // todo this \n\n            if (instance.prevPath.fill != instance.finPath.fill) {\n              setTimeout(function () {\n                instance.path.attr({\n                  fill: instance.finPath.fill\n                });\n              }, do_duration);\n            }\n          }\n        }, start_duration);\n      }\n    }\n  }, {\n    key: \"animateShow\",\n    value: function animateShow(ratio) {\n      console.log(\"animateShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.animateShow(ratio);\n        });\n      }\n\n      if (this.hasTo()) {\n        var instance = this;\n        $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.finPos), {\n          duration: 100000000,\n          step: function step(s) {\n            if (SwipeUtil.getStatus() == \"stop\") {\n              $(this).stop(0);\n            }\n          },\n          easing: \"swipe\",\n          progress: function progress(a, b) {\n            instance.animateTransform(SwipeUtil.getRatio());\n\n            if (instance.isPath()) {\n              $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n            }\n          }\n        });\n\n        if (instance.isVideo()) {\n          $(\"#\" + instance.css_id + \"-video\").animate(instance.convCssPos(instance.finPos), {\n            duration: 100000000,\n            step: function step(s) {\n              if (SwipeTouch.getStatus() == \"stop\") {\n                $(this).stop(0);\n              }\n            },\n            easing: \"swipe\"\n          });\n        } // todo path.\n\n\n        if (instance.isPath()) {\n          var path = SwipeParser.clone(instance.finPath.path);\n          delete path.stroke;\n          instance.path.animate(path, 100000000, function (x, t, b, c, d) {\n            return Math.abs(SwipeUtil.getRatio());\n          }, function () {\n            if (instance.prevPath.fill != instance.finPath.fill) {\n              instance.path.attr({\n                fill: instance.finPath.fill\n              });\n            }\n          });\n        }\n        /*\n          if (instance.isText()) {\n         $(\"#\" + instance.css_id + \"-body\").animate(instance.finText, {\n         duration: do_duration\n           });\n          }\n          if (instance.isPath()) {\n         let path =  SwipeParser.clone(instance.finPath.path);\n         delete path.stroke;\n         instance.path.animate(path, do_duration);\n         if (instance.prevPath.fill !=  instance.finPath.fill) {\n         setTimeout(function(){\n        instance.path.attr({fill: instance.finPath.fill});\n         }, do_duration);\n         }\n          }\n        */\n\n      }\n    }\n  }, {\n    key: \"animateShowBack\",\n    value: function animateShowBack(ratio) {\n      console.log(\"animateShowBack\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.animateShowBack(ratio);\n        });\n      }\n\n      if (this.hasTo()) {\n        var instance = this;\n        $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.prevPos), {\n          duration: 100000000,\n          step: function step(s) {\n            if (SwipeTouch.getStatus() == \"stop\") {\n              $(this).stop(0);\n            }\n          },\n          easing: \"swipe\",\n          progress: function progress(a, b) {\n            instance.animateTransform(Math.abs(1 + SwipeUtil.getRatio()));\n\n            if (instance.isPath()) {\n              $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n            }\n          }\n        });\n\n        if (this.isPath()) {\n          var path = SwipeParser.clone(this.prevPath.path);\n          delete path.stroke;\n          this.path.animate(path, 100000000, function (x, t, b, c, d) {\n            return Math.abs(SwipeUtil.getRatio());\n          }, function () {\n            if (this.prevPath.fill != this.finPath.fill) {\n              this.path.attr({\n                fill: this.prevPath.fill\n              });\n            }\n          });\n        }\n        /*\n          if (instance.isVideo()){\n         $(\"#\" + instance.css_id + \"-video\").animate(instance.convCssPos(instance.finPos), {\n         duration: do_duration\n         });\n          }\n          \n          if (instance.isText()) {\n         $(\"#\" + instance.css_id + \"-body\").animate(instance.finText, {\n         duration: do_duration\n           });\n          }\n          if (instance.isPath()) {\n         let path =  SwipeParser.clone(instance.finPath.path);\n         delete path.stroke;\n         instance.path.animate(path, do_duration);\n         if (instance.prevPath.fill !=  instance.finPath.fill) {\n         setTimeout(function(){\n        instance.path.attr({fill: instance.finPath.fill});\n         }, do_duration);\n         }\n          }\n        */\n\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.pause();\n        });\n      }\n\n      if (this.isVideo()) {\n        $(\"#\" + this.css_id + \"-video\")[0].pause();\n      }\n    } // calculate position\n\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(data, to) {\n      var ret = Object.assign({}, data);\n\n      if (to[\"translate\"]) {\n        var translate = to[\"translate\"];\n        ret[0] = ret[0] + Number(translate[0]);\n        ret[1] = ret[1] + Number(translate[1]);\n      }\n\n      ret[4] = this.getAngle(to[\"rotate\"]);\n\n      if (to[\"opacity\"] != null) {\n        ret[5] = Number(to[\"opacity\"]);\n      }\n\n      if (to[\"scale\"]) {\n        ret[6] = this.getScale(to);\n      }\n\n      if (this.isText()) {\n        var w_org = ret[2];\n        var h_org = ret[3];\n        ret[2] = ret[2] * ret[6][0];\n        ret[3] = ret[3] * ret[6][1];\n        ret[0] = ret[0] - (ret[2] - w_org) / 2;\n        ret[1] = ret[1] - (ret[3] - h_org) / 2;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"getScreenPosition\",\n    value: function getScreenPosition(data) {\n      return [SwipeScreen.virtualX(data[0]), SwipeScreen.virtualY(data[1]), SwipeScreen.virtualX(data[2]), SwipeScreen.virtualY(data[3]), data[4], data[5], data[6]];\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale(info) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [1.0, 1.0];\n\n      if (info[\"scale\"]) {\n        if (SwipeParser.is(\"Array\", info[\"scale\"]) && info[\"scale\"].length == 2) {\n          scale = info[\"scale\"];\n        } else if (SwipeParser.is(\"Array\", info[\"scale\"]) && info[\"scale\"].length == 4) {\n          // this might inheritProperties issue. array is not update , just pushed.\n          scale = [info[\"scale\"][2], info[\"scale\"][3]];\n        } else if (SwipeParser.is(\"Number\", info[\"scale\"])) {\n          scale = [info[\"scale\"], info[\"scale\"]];\n        } else if (SwipeParser.is(\"String\", info[\"scale\"])) {\n          scale = [Number(info[\"scale\"]), Number(info[\"scale\"])];\n        }\n      }\n\n      return scale;\n    }\n  }, {\n    key: \"convBasicCssPos\",\n    value: function convBasicCssPos(data) {\n      return {\n        'left': data[0] + 'px',\n        'top': data[1] + 'px',\n        'width': data[2] + 'px',\n        'height': data[3] + 'px',\n        'opacity': data[5]\n      };\n    }\n  }, {\n    key: \"convCssPos\",\n    value: function convCssPos(data) {\n      var skip_transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var ret = this.convBasicCssPos(data);\n      var transform = [];\n      var angle = data[4];\n\n      if (isFinite(angle)) {\n        transform.push(\"rotate(\" + angle + \"deg)\");\n      } // path is not apply default transform\n\n\n      if (!this.isText() && !this.isPath() && !skip_transform) {\n        var scale = data[6];\n\n        if (SwipeParser.is(\"Array\", scale) && scale.length == 2) {\n          transform.push(\"scale(\" + scale[0] + \",\" + scale[1] + \")\");\n        }\n      }\n\n      if (transform.length > 0) {\n        ret = this.setTransform(ret, transform);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"setTransform\",\n    value: function setTransform(data, transform) {\n      if (transform && transform.length > 0) {\n        return SwipeUtil.merge(data, this.getTransform(transform));\n      }\n\n      return data;\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(transform) {\n      var data = {};\n      var tran = transform.join(\" \");\n      data[\"transform\"] = tran;\n      data[\"-moz-transform\"] = tran;\n      data[\"-webkit-transform\"] = tran;\n      data[\"-o-transform\"] = tran;\n      data[\"-ms-transform\"] = tran;\n      return data;\n    }\n  }, {\n    key: \"type\",\n    value: function type() {\n      if (this.info.img) {\n        return \"image\";\n      } else if (this.info.sprite) {\n        return \"sprite\";\n      } else if (this.info.video) {\n        return \"video\";\n      } else if (this.info.text) {\n        return \"text\";\n      } else if (this.info.markdown) {\n        return \"markdown\";\n      } else if (this.info.path) {\n        return \"path\";\n      } else if (this.info._pathRoot) {\n        return \"pathRoot\";\n      } else {\n        return \"div\";\n      }\n    }\n  }, {\n    key: \"isImage\",\n    value: function isImage() {\n      return this.type() == \"image\";\n    }\n  }, {\n    key: \"isSprite\",\n    value: function isSprite() {\n      return this.type() == \"sprite\";\n    }\n  }, {\n    key: \"isVideo\",\n    value: function isVideo() {\n      return this.type() == \"video\";\n    }\n  }, {\n    key: \"isText\",\n    value: function isText() {\n      return this.type() == \"text\";\n    }\n  }, {\n    key: \"isMarkdown\",\n    value: function isMarkdown() {\n      return this.type() == \"markdown\";\n    }\n  }, {\n    key: \"isPath\",\n    value: function isPath() {\n      return this.type() == \"path\";\n    }\n  }, {\n    key: \"isPathRoot\",\n    value: function isPathRoot() {\n      return this.type() == \"pathRoot\";\n    }\n  }, {\n    key: \"isDiv\",\n    value: function isDiv() {\n      return this.type() == \"div\";\n    }\n  }, {\n    key: \"hasTo\",\n    value: function hasTo() {\n      return !!this.info[\"to\"];\n    }\n  }, {\n    key: \"html\",\n    value: function html() {\n      if (this.type()) {\n        _SwipeCounter.default.increase();\n\n        if (this.isVideo()) {\n          _SwipeCounter.default.increase();\n        }\n      }\n\n      var child_html = this.elements.map(function (element, key) {\n        return element.html();\n      }).join(\"\");\n\n      if (this.isImage()) {\n        return \"<div id='\" + this.css_id + \"' class='image_box'><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<img src='\" + this.info.img + \"' class='image_element image_element_page_\" + this.page_id + \"' id='\" + this.css_id + \"_image' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' __base_id='\" + this.css_id + \"' >\" + child_html + \"</img></div></div>\";\n      } else if (this.isSprite()) {\n        return \"<div id='\" + this.css_id + \"' class='image_box'><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<img src='\" + this.info.sprite + \"' class='image_element image_element_page_\" + this.page_id + \"' id='\" + this.css_id + \"_sprite' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' __base_id='\" + this.css_id + \"' >\" + child_html + \"</img></div></div>\";\n      } else if (this.isText()) {\n        var attrs = this.defaultAttr('element text_element element_page_' + this.page_id);\n        var attr_str = this.getAttrStr(attrs);\n        return \"<div \" + attr_str + \"><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<div class='text_body' id='\" + this.css_id + \"-body'><span>\" + this.insertBr(this.parseText(this.info.text)) + child_html + \"</span></div>\" + \"</div></div>\";\n      } else if (this.isMarkdown()) {\n        var md_array = this.parseMarkdown(this.info.markdown);\n        this.md_css = md_array[1];\n        return \"<div class='element markdown_element element_page_\" + this.page_id + \"'  id='\" + this.css_id + \"' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' >\" + \"<div id='\" + this.css_id + \"_inner' class='element_inner'><div class='markdown_wrap' id='md_\" + this.css_id + \"'>\" + md_array[0] + child_html + \"</div></div></div>\";\n      } else if (this.isVideo()) {\n        var attrs = this.defaultAttr('element video_element element_page_' + this.page_id + ' video_element_' + this.page_id);\n        var attr_str = this.getAttrStr(attrs);\n        return \"<div \" + attr_str + \"><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<video id='\" + this.css_id + \"-video'  webkit-playsinline playsinline muted><source type='video/mp4' src='\" + this.info.video + \"'  /></video>\" + child_html + \"</div></div>\";\n      } else if (this.isPathRoot()) {\n        var elements = [];\n\n        if (Array.isArray(this.info[\"elements\"])) {\n          elements = this.info[\"elements\"];\n        } else {\n          elements = [this.info[\"elements\"]];\n        }\n\n        var paths = this.swipe_to_path({\n          element: this.info,\n          depth: 0\n        });\n        return '<div id=\"' + this.css_id + '\" __page_id=\"' + this.page_id + '\" __element_id=\"' + this.element_id + '\" class=\"element svg_element element_page_' + this.page_id + '\"><div id=\"' + this.css_id + '_inner\" class=\"element_inner\"><svg id=\"' + this.css_id + '_svg\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\">' + paths + '</svg></div></div>';\n      } else if (this.isPath()) {\n        return '<div id=\"' + this.css_id + '\" __page_id=\"' + this.page_id + '\" __element_id=\"' + this.element_id + '\" class=\"element svg_element element_page_' + this.page_id + '\"><div id=\"' + this.css_id + '_inner\" class=\"element_inner\"><svg id=\"' + this.css_id + '_svg\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\"></svg></div></div>';\n      } else if (this.isDiv()) {\n        return \"<div class='element boxelement-\" + this.page_id + \" element_page_\" + this.page_id + \"' id='\" + this.css_id + \"' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' >\" + child_html + \"</div>\";\n      } else {\n        return \"\";\n      }\n    } // from studio js \n\n  }, {\n    key: \"swipe_to_path\",\n    value: function swipe_to_path(props) {\n      var element = props.element;\n      var depth = props.depth;\n      var instance = this;\n      var scale = SwipeScreen.getRatio();\n      var ret = \"\";\n\n      if (Array.isArray(element)) {\n        ret = element.map(function (elem) {\n          return instance.swipe_to_path({\n            element: elem,\n            scale: scale,\n            depth: depth + 1\n          });\n        });\n      } else {\n        if (element.elements) {\n          if (Array.isArray(element.elements)) {\n            ret = element.elements.map(function (elem) {\n              return instance.swipe_to_path({\n                element: elem,\n                scale: scale,\n                depth: depth + 1\n              });\n            });\n          } else {\n            ret = instance.swipe_to_path({\n              element: element.elements,\n              scale: scale,\n              depth: depth + 1\n            });\n          }\n        }\n\n        if (element.path) {\n          return \"<path className='svgPath' d='\" + element.path + \"' stroke='\" + this.strokeColor(element) + \"' fill='\" + this.fillColor(element) + \"' strokeWidth='\" + this.pathLine(element) + \"' >\" + ret + \"</path>\";\n        }\n      }\n\n      if (depth === 0) {\n        return \"<g style='transform: scale(\" + scale + \", \" + scale + \")'>\" + ret + \"</g>\";\n      } else {\n        return ret;\n      }\n    }\n  }, {\n    key: \"strokeColor\",\n    value: function strokeColor(elem) {\n      var color = elem.strokeColor ? elem.strokeColor : \"black\";\n      return this.convRgba2rgb(color);\n    }\n  }, {\n    key: \"fillColor\",\n    value: function fillColor(elem) {\n      var color = elem.fillColor ? elem.fillColor === \"#0000\" ? \"none\" : elem.fillColor : \"none\";\n      return this.convRgba2rgb(color);\n    }\n  }, {\n    key: \"pathLine\",\n    value: function pathLine(elem) {\n      return elem.lineWidth ? elem.lineWidth : 1;\n    }\n  }, {\n    key: \"convRgba2rgb\",\n    value: function convRgba2rgb(color) {\n      if (color) {\n        var match = color.match(/^(#\\w{6})(\\w{2})$/);\n\n        if (match) {\n          return match[1];\n        }\n      }\n\n      return color;\n    } // end from studio\n\n  }, {\n    key: \"defaultAttr\",\n    value: function defaultAttr(class_name) {\n      var attrs = {};\n      attrs[\"class\"] = class_name;\n      attrs[\"id\"] = this.css_id;\n      attrs[\"__page_id\"] = this.page_id;\n      attrs[\"__element_id\"] = this.element_id;\n      return attrs;\n    }\n  }, {\n    key: \"getAttrStr\",\n    value: function getAttrStr(attrs) {\n      return Object.keys(attrs).map(function (key) {\n        return key + \"='\" + attrs[key] + \"'\";\n      }).join(\" \");\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.resize();\n        });\n      }\n\n      if (this.isImage()) {\n        this.setImageCss();\n      }\n\n      this.initAllData();\n\n      if (this.isPath()) {\n        this.prevPath = this.parsePath();\n        this.finPath = this.parseFinPath();\n      } // set md wrap\n\n\n      this.markdown_position();\n    }\n  }, {\n    key: \"justShow\",\n    value: function justShow() {\n      console.log(\"justShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.justShow();\n        });\n      }\n\n      if (this.no_size) {\n        this.setSize();\n      }\n\n      this.setFinPos();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      console.log(\"show\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.show();\n        });\n      }\n\n      this.setPrevPos();\n      this.animateFinPos();\n      this.loopProcess();\n    }\n  }, {\n    key: \"delayShow\",\n    value: function delayShow() {\n      console.log(\"delayShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.delayShow();\n        });\n      }\n\n      this.setPrevPos();\n      var instance = this;\n      setTimeout(function () {\n        instance.animateFinPos();\n        instance.loopProcess();\n      }, SwipeBook.pageInDuration());\n    }\n  }, {\n    key: \"doLoopProcess\",\n    value: function doLoopProcess() {\n      console.log(\"show\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.doLoopProcess();\n        });\n      }\n\n      this.loopProcess();\n    }\n  }, {\n    key: \"getTiming\",\n    value: function getTiming(element, duration) {\n      var timing = function (element) {\n        if (element[\"timing\"]) {\n          var timing = element[\"timing\"];\n\n          if (timing.length == 2 && timing[0] > 0 && timing[1] >= timing[0] && timing[1] <= 1) {\n            return timing;\n          }\n        }\n\n        return [0, 1];\n      }(element);\n\n      return [timing[0], timing[1] - timing[0], 1 - timing[1]].map(function (a) {\n        return a * duration;\n      });\n    }\n  }, {\n    key: \"getLoopDuration\",\n    value: function getLoopDuration(duration) {\n      var loop_duration = duration;\n\n      if (this.transition_timing) {\n        if (this.transition_timing[2] != 0) {\n          loop_duration = this.transition_timing[2];\n        }\n      }\n\n      return this.valueFrom(this.info[\"loop\"], \"duration\", loop_duration);\n    }\n  }, {\n    key: \"loopProcess\",\n    value: function loopProcess() {\n      if (this.info[\"loop\"]) {\n        var loop_duration = this.getLoopDuration(this.duration);\n        this.loop_timing = this.getTiming(this.info[\"loop\"], loop_duration);\n\n        if (this.play_style == \"scroll\" || !this.hasTo()) {\n          this.loop(this);\n        } else if (this.play_style == \"auto\" || this.play_style == \"always\") {\n          var duration = this.duration;\n\n          if (this.transition_timing) {\n            duration = duration - this.transition_timing[2];\n          }\n\n          var instance = this;\n          instance.loop(instance, null, duration);\n        } else {\n          console.log(\"not animate because \" + this.play);\n        }\n      }\n    }\n  }, {\n    key: \"moreloop\",\n    value: function moreloop(instance, repeat, defaultRepeat) {\n      repeat--;\n      var end_duration = this.loop_timing[2];\n      setTimeout(function () {\n        if (repeat > 0) {\n          instance.loop(instance, repeat);\n        } else if (instance.isRepeat && instance.isActive) {\n          repeat = defaultRepeat;\n          instance.loop(instance, repeat);\n        }\n      }, end_duration);\n    }\n  }, {\n    key: \"loop\",\n    value: function loop(instance) {\n      var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var wait_duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      console.log(\"loop\");\n      var data = instance.info[\"loop\"];\n      var start_duration = this.loop_timing[0];\n      var duration = this.loop_timing[1];\n      var defaultRepeat;\n\n      if (data[\"count\"]) {\n        defaultRepeat = data[\"count\"];\n      } else {\n        defaultRepeat = 1;\n      }\n\n      if (repeat == null) {\n        repeat = defaultRepeat;\n      }\n\n      var target_id = \"#\" + instance.css_id + \"_inner\";\n      setTimeout(function () {\n        switch (data[\"style\"]) {\n          case \"vibrate\":\n            var delta = instance.valueFrom(data, \"delta\", 10);\n            var orgPos = instance.originalFinPos;\n            var timing = duration / defaultRepeat / 4;\n            $(target_id).animate({\n              left: parseInt(SwipeScreen.virtualX(-delta)) + \"px\"\n            }, {\n              duration: timing,\n              complete: function complete() {\n                $(target_id).animate({\n                  left: parseInt(SwipeScreen.virtualX(delta)) + \"px\"\n                }, {\n                  duration: timing * 2,\n                  complete: function complete() {\n                    $(target_id).animate({\n                      left: \"0px\"\n                    }, {\n                      duration: timing,\n                      complete: function complete() {\n                        repeat--;\n\n                        if (repeat > 0) {\n                          instance.loop(instance, repeat);\n                        } else if (instance.isRepeat && instance.isActive) {\n                          repeat = defaultRepeat;\n                          instance.loop(instance, repeat);\n                        }\n                      }\n                    });\n                  }\n                });\n              }\n            });\n            break;\n\n          case \"shift\":\n            var dir;\n            var orgPos = instance.originalFinPos;\n\n            switch (data[\"direction\"]) {\n              case \"n\":\n                dir = {\n                  top: SwipeScreen.virtualY(-instance.h) + \"px\"\n                };\n                break;\n\n              case \"e\":\n                dir = {\n                  left: parseInt(SwipeScreen.virtualX(instance.w)) + \"px\"\n                };\n                break;\n\n              case \"w\":\n                dir = {\n                  left: parseInt(SwipeScreen.virtualX(-instance.w)) + \"px\"\n                };\n                break;\n\n              default:\n                dir = {\n                  top: SwipeScreen.virtualY(instance.h) + \"px\"\n                };\n                break;\n            }\n\n            var timing = duration / defaultRepeat;\n            instance.setPrevPos();\n            $(target_id).animate(dir, {\n              duration: timing,\n              complete: function complete() {\n                $(target_id).animate(instance.convCssPos(orgPos), {\n                  duration: 0,\n                  complete: function complete() {\n                    instance.moreloop(instance, repeat, defaultRepeat);\n                  }\n                });\n              }\n            });\n            break;\n\n          case \"blink\":\n            console.log(\"blink\");\n            var timing = duration / defaultRepeat / 4;\n            $(target_id).css({\n              opacity: 1\n            });\n            setTimeout(function () {\n              $(target_id).css({\n                opacity: 0\n              });\n              setTimeout(function () {\n                $(target_id).css({\n                  opacity: 1\n                });\n                setTimeout(function () {\n                  instance.moreloop(instance, repeat, defaultRepeat);\n                }, timing);\n              }, timing * 2);\n            }, timing);\n            break;\n\n          case \"spin\":\n            console.log(\"spin\");\n            var timing = duration / defaultRepeat;\n            $(target_id).rotate({\n              angle: 0,\n              animateTo: 360,\n              duration: timing,\n              callback: function callback() {\n                instance.moreloop(instance, repeat, defaultRepeat);\n              }\n            });\n            break;\n\n          case \"wiggle\":\n            console.log(\"wiggle\");\n            var angle = instance.valueFrom(data, \"delta\", 15);\n            var timing = duration / defaultRepeat / 4;\n            $(target_id).rotate({\n              angle: 0,\n              animateTo: angle,\n              duration: timing,\n              callback: function callback() {\n                $(target_id).rotate({\n                  angle: angle,\n                  animateTo: -angle,\n                  duration: timing * 2,\n                  callback: function callback() {\n                    $(target_id).rotate({\n                      angle: -angle,\n                      animateTo: 0,\n                      duration: timing,\n                      callback: function callback() {\n                        instance.moreloop(instance, repeat, defaultRepeat);\n                      }\n                    });\n                  }\n                });\n              }\n            });\n            break;\n\n          case \"path\":\n        }\n      }, start_duration + wait_duration);\n\n      if (data[\"style\"] == \"sprite\") {\n        console.log(\"sprite\");\n\n        var _repeat = instance.valueFrom(data, \"repeat\") || instance.valueFrom(data, \"count\"); // todo in case of image array. i need sample file.\n\n\n        if (instance.info.slice) {\n          var block = instance.info.slice[0];\n          var timing = duration / _repeat / block;\n\n          for (var i = 0; i < _repeat; i++) {\n            var _loop = function _loop(j) {\n              $(\"#\" + instance.css_id + \"_sprite\").delay(timing).queue(function () {\n                var pos = instance.getLoopSpritePos(j);\n                $(this).css(instance.getSpriteCss(pos)).dequeue();\n              });\n            };\n\n            for (var j = 0; j < block; j++) {\n              _loop(j);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getLoopSpritePos\",\n    value: function getLoopSpritePos(num) {\n      var w = this.prevPos[2];\n      var h = this.prevPos[3];\n      return [-(w * num), -(h * this.info.slot[1]), w * this.info.slice[0], h * this.info.slice[1]];\n    }\n  }, {\n    key: \"valueFrom\",\n    value: function valueFrom(data, key, defaultValue) {\n      if (data[key]) {\n        return data[key];\n      }\n\n      return defaultValue;\n    }\n  }, {\n    key: \"back\",\n    value: function back() {\n      console.log(\"back\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.back();\n        });\n      }\n\n      this.setFinPos();\n      this.animatePrevPos();\n    }\n  }, {\n    key: \"finShow\",\n    value: function finShow() {\n      console.log(\"finShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.finShow();\n        });\n      }\n\n      this.setFinPos();\n      this.loopProcess();\n    } // this is not work. videoElement is not set.\n\n  }, {\n    key: \"setVideoElement\",\n    value: function setVideoElement(videoElement) {\n      this.videoElement = videoElement;\n    }\n  }, {\n    key: \"inactive\",\n    value: function inactive() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.inactive();\n        });\n      }\n\n      this.isActive = false;\n    }\n  }, {\n    key: \"active\",\n    value: function active() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.active();\n        });\n      }\n\n      this.isActive = true;\n    }\n  }]);\n\n  return SwipeElement;\n}();\n\nexports.default = SwipeElement;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeElement.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeMarkdown"] = factory();
	else
		root["SwipeMarkdown"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeMarkdown.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeMarkdown.js":
/*!******************************!*\
  !*** ./lib/SwipeMarkdown.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeMarkdown =\n/*#__PURE__*/\nfunction () {\n  function SwipeMarkdown(info) {\n    _classCallCheck(this, SwipeMarkdown);\n\n    this.info = info;\n    this.setMdStyle();\n\n    if (this.info[\"styles\"]) {\n      // not well\n      this.md_style = $.extend(true, this.md_style, this.info[\"styles\"]);\n    }\n\n    if (this.info[\"shadow\"]) {\n      this.shadow = this.info[\"shadow\"];\n    }\n  }\n\n  _createClass(SwipeMarkdown, [{\n    key: \"parse\",\n    value: function parse(element, css_prefix) {\n      var instance = this;\n      var fCode = false;\n      var prepared = element.map(function (element, elem_index) {\n        if (element === '```') {\n          fCode = !fCode;\n          return fCode ? [null, \"\"] : [\"```+\", \"\"];\n        } else if (fCode) {\n          return [\"```\", element];\n        }\n\n        return instance.getMdSymbol(element);\n      });\n      var htmls = [];\n      var csses = [];\n      prepared.forEach(function (element, elem_index) {\n        var style = element[0];\n        var body = element[1];\n\n        if (instance.prefixes(style)) {\n          body = instance.prefixes(style) + body;\n        }\n\n        htmls.push(instance.conv_html(body, css_prefix, elem_index));\n        csses.push(instance.conv_css(style));\n      });\n      return [htmls.join(\"\"), csses];\n    }\n  }, {\n    key: \"conv_html\",\n    value: function conv_html(body, css_prefix, index) {\n      var text = body.replace(/\\s/g, '&nbsp;');\n      return \"<div class='markdown_line' id='\" + css_prefix + \"-\" + index + \"'>\" + text + \"</div>\";\n    }\n  }, {\n    key: \"conv_css\",\n    value: function conv_css(style) {\n      var my_style = this.md_style[style];\n      var fontSize = 20;\n      var lineHeight = 30;\n      var fontname = \"\"; // todo default font\n\n      var textAlign = \"left\";\n\n      if (my_style) {\n        if (my_style[\"font\"]) {\n          if (my_style[\"font\"][\"name\"]) {\n            fontname = SwipeParser.parseFontName(my_style[\"font\"], true);\n          }\n\n          if (my_style[\"font\"][\"size\"]) {\n            fontSize = SwipeParser.parseFontSize(my_style[\"font\"], SwipeScreen.swipeheight(), 10, true);\n            lineHeight = fontSize;\n          }\n        }\n\n        if (my_style[\"alignment\"]) {\n          textAlign = my_style[\"alignment\"];\n        }\n\n        if (my_style[\"spacing\"]) {\n          lineHeight = lineHeight + SwipeParser.parseSize(my_style[\"spacing\"], SwipeScreen.swipeheight(), 10);\n        } else {\n          lineHeight = lineHeight + 10;\n        }\n      }\n\n      var css = {\n        position: \"relative\",\n        \"font-size\": String(SwipeScreen.virtualY(fontSize)) + \"px\",\n        \"line-height\": String(SwipeScreen.virtualY(lineHeight)) + \"px\",\n        \"font-family\": fontname,\n        \"textAlign\": textAlign,\n        \"color\": SwipeParser.parseColor(my_style, \"#000\")\n      };\n\n      if (this.shadow) {\n        css[\"text-shadow\"] = SwipeParser.parseShadow(this.shadow);\n        console.log(css[\"text-shadow\"]); //\"2px  2px 1px blue\";//\"        \"shadow\":{ \"color\":\"blue\", \"offset\":[-2,2] },\n      }\n\n      return css;\n    }\n  }, {\n    key: \"setMdStyle\",\n    value: function setMdStyle() {\n      var _this$md_style;\n\n      this.md_style = (_this$md_style = {\n        \"###\": {\n          \"color\": \"#800\",\n          \"font\": {\n            \"size\": \"4%\",\n            \"name\": \"Helvetica\"\n          }\n        },\n        \"#\": {\n          \"font\": {\n            \"size\": 32\n          },\n          \"spacing\": 16\n        },\n        \"##\": {\n          \"font\": {\n            \"size\": 28\n          },\n          \"spacing\": 14\n        }\n      }, _defineProperty(_this$md_style, \"###\", {\n        \"font\": {\n          \"size\": 24\n        },\n        \"spacing\": 12\n      }), _defineProperty(_this$md_style, \"####\", {\n        \"font\": {\n          \"size\": 22\n        },\n        \"spacing\": 10\n      }), _defineProperty(_this$md_style, \"*\", {\n        \"font\": {\n          \"size\": 20\n        },\n        \"spacing\": 10\n      }), _defineProperty(_this$md_style, \"-\", {\n        \"font\": {\n          \"size\": 20\n        },\n        \"spacing\": 5\n      }), _defineProperty(_this$md_style, \"```\", {\n        \"font\": {\n          \"size\": 14,\n          \"name\": \"Courier\"\n        },\n        \"spacing\": 0\n      }), _defineProperty(_this$md_style, \"```+\", {\n        \"font\": {\n          \"size\": 7,\n          \"name\": \"Courier\"\n        },\n        \"spacing\": 0\n      }), _this$md_style);\n    }\n  }, {\n    key: \"getMdStyle\",\n    value: function getMdStyle() {\n      return this.md_style;\n    }\n  }, {\n    key: \"getMdSymbol\",\n    value: function getMdSymbol(element) {\n      var md_style = this.getMdStyle();\n      var words = element.split(\" \");\n\n      if (words.length > 1 && md_style[words[0]]) {\n        var symbol = words.shift();\n        return [symbol, words.join(\" \")];\n      }\n\n      return [\"*\", element];\n    }\n  }, {\n    key: \"prefixes\",\n    value: function prefixes(style) {\n      var my_style = this.md_style[style];\n\n      if (my_style && my_style[\"prefix\"]) {\n        return my_style[\"prefix\"];\n      }\n\n      var arr = {\n        \"-\": \"\\u2022 \",\n        // bullet (U+2022), http://graphemica.com/%E2%80%A2\n        \"```\": \" \"\n      };\n\n      if (style) {\n        if (arr.hasOwnProperty(style)) {\n          return arr[style];\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return SwipeMarkdown;\n}();\n\nexports.default = SwipeMarkdown;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeMarkdown.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeMediaPlayer"] = factory();
	else
		root["SwipeMediaPlayer"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeMediaPlayer.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeMediaPlayer.js":
/*!*********************************!*\
  !*** ./lib/SwipeMediaPlayer.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeMediaPlayer = function () {\n\t_createClass(SwipeMediaPlayer, null, [{\n\t\tkey: \"getInstance\",\n\t\tvalue: function getInstance() {\n\t\t\tif (this.instance) {\n\t\t\t\treturn this.instance;\n\t\t\t}\n\t\t\tthis.instance = new SwipeMediaPlayer();\n\t\t\treturn this.instance;\n\t\t}\n\t}]);\n\n\tfunction SwipeMediaPlayer() {\n\t\t_classCallCheck(this, SwipeMediaPlayer);\n\n\t\tthis.current_page = 0;\n\t\tthis.current_playing = null;\n\t\tthis.media = {};\n\t}\n\n\t_createClass(SwipeMediaPlayer, [{\n\t\tkey: \"page\",\n\t\tvalue: function page(num) {\n\t\t\tthis.current_page = num;\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\tkey: \"push\",\n\t\tvalue: function push(key, media) {\n\t\t\tif (!this.media[this.current_page]) {\n\t\t\t\tthis.media[this.current_page] = {};\n\t\t\t}\n\t\t\tthis.media[this.current_page][key] = media;\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\tkey: \"setCurrent\",\n\t\tvalue: function setCurrent() {\n\t\t\tvar page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (page) {\n\t\t\t\tthis.current_page = page;\n\t\t\t}\n\t\t\tvar instance = this;\n\t\t\tif (this.current_playing != this.current_page) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t\tif (this.media[this.current_page]) {\n\t\t\t\tvar page = this.media[this.current_page];\n\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\tvar data = page[key];\n\t\t\t\t\tvar player = data.media;\n\t\t\t\t\tvar duration = page[key] && page[key].videoDuration ? page[key].videoDuration : player.duration;\n\t\t\t\t\tvar start = page[key] && page[key].videoStart ? page[key].videoStart : 0;\n\t\t\t\t\tvar last = start + duration;\n\t\t\t\t\tplayer.setCurrentTime(last);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"play\",\n\t\tvalue: function play() {\n\t\t\tvar page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t\tif (page) {\n\t\t\t\tthis.current_page = page;\n\t\t\t}\n\t\t\tvar instance = this;\n\t\t\tif (this.current_playing != this.current_page) {\n\t\t\t\tthis.stop();\n\t\t\t\tif (this.media[this.current_page]) {\n\t\t\t\t\tvar page = this.media[this.current_page];\n\t\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\t\tvar data = page[key];\n\t\t\t\t\t\tvar player = data.media;\n\t\t\t\t\t\tvar start = 0;\n\t\t\t\t\t\tif (page[key] && page[key].videoStart) {\n\t\t\t\t\t\t\tstart = page[key].videoStart;\n\t\t\t\t\t\t\tplayer.setCurrentTime(start);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data[\"canPlay\"]) {\n\t\t\t\t\t\t\tplayer.currentTime = 0;\n\t\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t\t\tplayer.addEventListener('ended', function () {\n\t\t\t\t\t\t\t\tinstance.current_playing = null;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata[\"waitPlay\"] = true;\n\t\t\t\t\t\t\tinstance.media[instance.current_page][key] = data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (page[key] && page[key].videoDuration) {\n\t\t\t\t\t\t\tvar duration = page[key].videoDuration;\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t// accuracy of settimeout is not good. so I add  a second.\n\t\t\t\t\t\t\t\tif (player.currentTime + 1 > Number(start) + Number(duration)) {\n\t\t\t\t\t\t\t\t\tplayer.stop();\n\t\t\t\t\t\t\t\t\tinstance.current_playing = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, duration * 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.current_playing = this.current_page;\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t}, {\n\t\tkey: \"playing\",\n\t\tvalue: function playing(ratio) {\n\t\t\tif (ratio < 0) {\n\t\t\t\tratio = 1 + ratio;\n\t\t\t}\n\t\t\tvar instance = this;\n\t\t\tif (this.media[this.current_page]) {\n\t\t\t\tvar page = this.media[this.current_page];\n\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\tvar data = page[key];\n\t\t\t\t\tvar player = data.media;\n\t\t\t\t\tvar dom = page[key].dom;\n\t\t\t\t\tvar start = start = page[key] && page[key].videoStart ? page[key].videoStart : 0;\n\t\t\t\t\tvar duration = page[key] && page[key].videoDuration ? page[key].videoDuration : 1.0;\n\n\t\t\t\t\tvar currentTime = start + ratio * duration;\n\t\t\t\t\t//player.setCurrentTime(currentTime);\n\t\t\t\t\tif (Math.abs(data[\"currentTime\"] - currentTime) > 0.05) {\n\t\t\t\t\t\tdom.currentTime = currentTime;\n\t\t\t\t\t\tdata[\"currentTime\"] = currentTime;\n\t\t\t\t\t\tinstance.media[instance.current_page][key] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"load\",\n\t\tvalue: function load() {\n\t\t\tvar instance = this;\n\t\t\tObject.keys(this.media).forEach(function (key) {\n\t\t\t\tvar page = instance.media[key];\n\t\t\t\tObject.keys(page).forEach(function (key2) {\n\t\t\t\t\tvar data = page[key2];\n\t\t\t\t\tvar player = page[key2].media;\n\t\t\t\t\tplayer.addEventListener('loadeddata', function () {\n\t\t\t\t\t\tif (instance.media[key][key2][\"waitPlay\"]) {\n\t\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata[\"canPlay\"] = true;\n\t\t\t\t\t\tinstance.media[key][key2] = data;\n\t\t\t\t\t}, false);\n\t\t\t\t\tplayer.load();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"media\",\n\t\tvalue: function media() {\n\t\t\treturn this.media[this.current_page];\n\t\t}\n\t}, {\n\t\tkey: \"stop\",\n\t\tvalue: function stop() {\n\t\t\tif (this.current_playing !== null) {\n\t\t\t\tif (this.media[this.current_playing]) {\n\t\t\t\t\tvar page = this.media[this.current_playing];\n\t\t\t\t\tObject.keys(page).forEach(function (key) {\n\t\t\t\t\t\tpage[key].media.stop();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.current_playing = null;\n\t\t}\n\t}]);\n\n\treturn SwipeMediaPlayer;\n}();\n\nexports.default = SwipeMediaPlayer;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeMediaPlayer.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipePage"] = factory();
	else
		root["SwipePage"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipePage.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeCounter.js":
/*!*****************************!*\
  !*** ./lib/SwipeCounter.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeCounter =\n/*#__PURE__*/\nfunction () {\n  function SwipeCounter() {\n    _classCallCheck(this, SwipeCounter);\n  }\n\n  _createClass(SwipeCounter, null, [{\n    key: \"increase\",\n    value: function increase() {\n      if (window.counter === undefined) {\n        window.counter = 1;\n      } else {\n        window.counter++;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"decrease\",\n    value: function decrease() {\n      if (window.counter === undefined) {\n        window.counter = -1;\n      } else {\n        window.counter--;\n      }\n\n      return window.counter;\n    }\n  }, {\n    key: \"getCounter\",\n    value: function getCounter() {\n      return window.counter;\n    }\n  }]);\n\n  return SwipeCounter;\n}();\n\nexports.default = SwipeCounter;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeCounter.js?");

/***/ }),

/***/ "./lib/SwipeElement.js":
/*!*****************************!*\
  !*** ./lib/SwipeElement.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _SwipeCounter = _interopRequireDefault(__webpack_require__(/*! ./SwipeCounter */ \"./lib/SwipeCounter.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SwipeElement =\n/*#__PURE__*/\nfunction () {\n  function SwipeElement(info, page_id, element_id, play, duration) {\n    var parent = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\n    _classCallCheck(this, SwipeElement);\n\n    var css_id = \"element-\" + page_id + \"-\" + element_id;\n    this.info = this.mergeTemplate(info);\n    this.to_info = this.info[\"to\"] ? SwipeUtil.merge(this.info, this.info[\"to\"]) : null;\n    this.css_id = css_id;\n    this.page_id = page_id;\n    this.element_id = element_id;\n    this.play_style = play;\n    this.duration = duration;\n    this.parent = parent;\n    this.isActive = false;\n    this.videoStart = 0;\n    this.videoDuration = null;\n    this.isRepeat = Boolean(info[\"repeat\"]);\n    this.x = 0;\n    this.y = 0;\n    this.angle = this.info[\"rotate\"] ? this.getAngle(this.info[\"rotate\"]) : 0;\n    this.to_angle = this.to_info && this.to_info[\"rotate\"] ? this.getAngle(this.to_info[\"rotate\"]) : 0;\n    this.scale = this.getScale(this.info);\n    this.to_scale = this.to_info ? this.getScale(this.to_info) : [1.0, 1.0];\n    this.no_size = false;\n    this.transition_timing = null;\n    this.loop_timing = null;\n    this.elements = [];\n    var instance = this;\n    this.bc = null;\n\n    if (this.info[\"bc\"]) {\n      this.bc = this.info[\"bc\"];\n    }\n\n    if (this.info[\"elements\"]) {\n      if (!this.isPathRoot()) {\n        var elements = [];\n\n        if (Array.isArray(this.info[\"elements\"])) {\n          elements = this.info[\"elements\"];\n        } else {\n          elements = [this.info[\"elements\"]];\n        }\n\n        elements.forEach(function (element, elem_index) {\n          var e_id = element_id + \"-\" + elem_index;\n          instance.elements.push(new SwipeElement(element, page_id, e_id, play, duration, instance));\n        });\n      }\n    }\n  }\n\n  _createClass(SwipeElement, [{\n    key: \"mergeTemplate\",\n    value: function mergeTemplate(info) {\n      // template\n      if (info[\"element\"] || info[\"template\"]) {\n        var elementTemplate = SwipeBook.getTemplateElements();\n        var elem;\n\n        if (elem = elementTemplate[info[\"element\"] || info[\"template\"]]) {\n          info = SwipeParser.inheritProperties(info, elem);\n        }\n      }\n\n      return info;\n    }\n  }, {\n    key: \"insertBr\",\n    value: function insertBr(text) {\n      return text.replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\");\n    }\n  }, {\n    key: \"parseText\",\n    value: function parseText(element) {\n      if (typeof element == \"string\") {\n        return element;\n      } else if (_typeof(element) == \"object\") {\n        if (element[\"ref\"]) {\n          return SwipeParser.localizedStringForKey(element[\"ref\"]);\n        } else {\n          // todo localize\n          return SwipeParser.localizedString(element, \"ja\");\n        }\n      }\n\n      return \"\";\n    }\n  }, {\n    key: \"parseMarkdown\",\n    value: function parseMarkdown(element) {\n      var info = SwipeBook.getMarkdown();\n      var parser = new SwipeMarkdown(info);\n      return parser.parse(element, this.css_id);\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(index) {\n      if (index !== undefined) {\n        var indexes = index.split(\"-\");\n\n        if (indexes.length == 1) {\n          return this.elements[index];\n        } else {\n          return this.elements[indexes.shift()].getElement(indexes.join(\"-\"));\n        }\n\n        return;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"initData\",\n    value: function initData(index) {\n      if (index !== undefined) {\n        var indexes = index.split(\"-\");\n\n        if (indexes.length == 1) {\n          this.elements[index].initData();\n        } else {\n          this.elements[indexes.shift()].initData(indexes.join(\"-\"));\n        }\n\n        return;\n      }\n\n      if (this.isDiv() || this.isMarkdown()) {\n        if (!this.parent) {\n          $(\"#\" + this.css_id).css(\"position\", \"absolute\");\n        }\n      }\n\n      if (this.isPath()) {\n        this.snap = Snap(\"#\" + this.css_id + \"_svg\");\n        this.path = this.snap.path();\n      }\n\n      if (this.isVideo()) {\n        this.initVideo();\n      }\n\n      this.setSize();\n      this.setPosition();\n      this.setOption();\n      $(\"#\" + this.css_id).attr(\"__x\", this.x);\n      $(\"#\" + this.css_id).attr(\"__y\", this.y);\n      $(\"#\" + this.css_id).attr(\"__w\", this.w);\n      $(\"#\" + this.css_id).attr(\"__h\", this.h);\n\n      if (this.bc) {\n        $(\"#\" + this.css_id).css({\n          \"background-color\": this.bc\n        });\n      }\n\n      if (this.isImage()) {\n        this.setImageCss();\n      }\n\n      this.initAllData();\n\n      if (this.isPath()) {\n        this.prevPath = this.parsePath();\n        this.finPath = this.parseFinPath();\n      }\n\n      this.setPrevPos(); // set md wrap\n\n      this.markdown_position();\n    }\n  }, {\n    key: \"setImageCss\",\n    value: function setImageCss() {\n      var div_ratio = this.w / this.h;\n      var w = $(\"#\" + this.css_id + \"_image\").attr(\"__default_width\");\n      var h = $(\"#\" + this.css_id + \"_image\").attr(\"__default_height\");\n      var image_ratio = w / h;\n\n      if (div_ratio < image_ratio) {\n        $(\"#\" + this.css_id + \"_image\").css(\"height\", \"100%\");\n        $(\"#\" + this.css_id + \"_image\").css(\"width\", \"auto\");\n      } else {\n        $(\"#\" + this.css_id + \"_image\").css(\"height\", \"auth\");\n        $(\"#\" + this.css_id + \"_image\").css(\"width\", \"100%\");\n      }\n\n      $(\"#\" + this.css_id + \"_image\").css(\"top\", \"50%\");\n      $(\"#\" + this.css_id + \"_image\").css(\"left\", \"50%\");\n      $(\"#\" + this.css_id + \"_image\").css(\"transform\", \"translate(-50%,-50%)\");\n      $(\"#\" + this.css_id + \"_image\").css(\"-webkit-transform\", \"translateY(-50%) translateX(-50%)\");\n      $(\"#\" + this.css_id + \"_image\").css(\"-moz-transform\", \"translate(-50%,-50%)\");\n    }\n  }, {\n    key: \"initAllData\",\n    value: function initAllData() {\n      this.initPosData = [Number(this.x), Number(this.y), Number(this.w), Number(this.h), Number(this.angle), Number(this.opacity), this.scale];\n\n      if (this.isText()) {}\n\n      this.originalPrevPos = this.updatePosition(this.initPosData, this.info);\n      this.prevPos = this.getScreenPosition(this.originalPrevPos);\n      this.originalFinPos = this.getOriginalFinPos();\n      this.finPos = this.getScreenPosition(this.originalFinPos);\n\n      if (this.isText()) {\n        this.prevText = this.textLayout(this.info, this.originalPrevPos);\n        this.finText = this.textLayout(this.info, this.originalFinPos);\n      }\n    }\n  }, {\n    key: \"getOriginalFinPos\",\n    value: function getOriginalFinPos() {\n      if (this.hasTo()) {\n        var pos = this.initPosData;\n\n        if (this.info[\"to\"][\"pos\"] && this.info[\"to\"][\"pos\"].match(/^M/)) {//let tmp_pos = this.path2pos(this.info[\"to\"][\"pos\"]);\n          // pos[0] = pos[0] + tmp_pos[0];\n          // pos[1] = pos[1] + tmp_pos[1];\n        }\n\n        return this.updatePosition(pos, this.to_info);\n      } else {\n        return this.originalPrevPos;\n      }\n    }\n  }, {\n    key: \"path2pos\",\n    value: function path2pos(pos) {\n      var res = [0, 0];\n      var match = pos.match(/(\\w[0-9\\s\\.,\\-]+)/g);\n      $.each(match, function (index, path) {\n        var cmd = path.slice(0, 1);\n        var p = path.slice(1).split(\",\");\n\n        if (cmd == \"M\") {\n          res = [Number(p[0]), Number(p[1])];\n        }\n\n        if (cmd == \"l\") {\n          res = [Number(res[0]) + Number(p[0]), Number(res[1]) + Number(p[1])];\n        }\n      });\n      return res;\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption() {\n      this.opacity = 1.0;\n\n      if (this.info[\"opacity\"] != null) {\n        this.opacity = this.info[\"opacity\"];\n      }\n\n      if (this.info[\"clip\"] && this.info[\"clip\"] === true) {\n        $(\"#\" + this.css_id).css(\"overflow\", \"hidden\");\n      }\n\n      if (this.info._pathRoot) {\n        $(\"#\" + this.css_id).css(\"overflow\", \"hidden\");\n      }\n    }\n  }, {\n    key: \"initVideo\",\n    value: function initVideo() {\n      this.videoStart = 0;\n\n      if (this.info[\"videoStart\"]) {\n        this.videoStart = this.info[\"videoStart\"];\n      }\n\n      this.videoDuration = 1;\n\n      if (this.info[\"videoDuration\"]) {\n        this.videoDuration = this.info[\"videoDuration\"];\n      }\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      if (this.info[\"size\"]) {\n        this.w = this.info[\"size\"][0];\n        this.h = this.info[\"size\"][1];\n      } else {\n        if (this.info[\"w\"]) {\n          this.w = SwipeParser.parseSize(this.info[\"w\"], this.getWidth(), this.getWidth());\n        } else {\n          if (this.isImage()) {\n            this.w = $(\"#\" + this.css_id).attr(\"__default_width\");\n          } else {\n            this.w = this.parentWidth();\n            this.no_size = true;\n          }\n        }\n\n        if (this.info[\"h\"]) {\n          this.h = SwipeParser.parseSize(this.info[\"h\"], this.getHeight(), this.getHeight());\n        } else {\n          if (this.isImage()) {\n            this.h = $(\"#\" + this.css_id).attr(\"__default_height\");\n          } else {\n            this.h = this.parentHeight();\n            this.no_size = true;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition() {\n      if (this.info[\"pos\"]) {\n        this.x = this.info[\"pos\"][0];\n        this.y = this.info[\"pos\"][1];\n      } else {\n        if (this.info[\"x\"] == \"right\") {\n          this.x = this.parentWidth() - this.w;\n        } else if (this.info[\"x\"] == \"left\") {\n          this.x = 0;\n        } else if (this.info[\"x\"] == \"center\") {\n          this.x = (this.parentWidth() - this.w) / 2.0;\n        } else if (this.info[\"x\"]) {\n          this.x = SwipeParser.parseSize(this.info[\"x\"], this.parentWidth(), 0);\n        }\n\n        if (this.info[\"y\"] == \"bottom\") {\n          this.y = this.parentHeight() - this.h;\n        } else if (this.info[\"y\"] == \"top\") {\n          this.y = 0;\n        } else if (this.info[\"y\"] == \"center\") {\n          this.y = (this.parentHeight() - this.h) / 2.0;\n        } else if (this.info[\"y\"]) {\n          this.y = SwipeParser.parseSize(this.info[\"y\"], this.parentHeight(), 0);\n        }\n      }\n    }\n  }, {\n    key: \"getAngle\",\n    value: function getAngle(data) {\n      if (SwipeParser.is(\"Array\", data)) {\n        return data[2];\n      } else if (data) {\n        return data;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      if (this.w) {\n        return this.w;\n      }\n\n      if (this.parent) {\n        return this.parent.getWidth();\n      }\n\n      return SwipeScreen.swipewidth();\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      if (this.h) {\n        return this.h;\n      }\n\n      if (this.parent) {\n        return this.parent.getHeight();\n      }\n\n      return SwipeScreen.swipeheight();\n    }\n  }, {\n    key: \"parentWidth\",\n    value: function parentWidth() {\n      var width;\n\n      if (this.parent) {\n        width = this.parent.getWidth();\n      }\n\n      if (width) {\n        return width;\n      }\n\n      return SwipeScreen.swipewidth();\n    }\n  }, {\n    key: \"parentHeight\",\n    value: function parentHeight() {\n      var height;\n\n      if (this.parent) {\n        height = this.parent.getHeight();\n      }\n\n      if (height) {\n        return height;\n      }\n\n      return SwipeScreen.swipeheight();\n    } // end of data parse \n    // set or animate position\n\n  }, {\n    key: \"setVideo\",\n    value: function setVideo(data) {\n      var instance = this;\n      $(\"#\" + this.css_id + \"-video\").css(this.convCssPos(data, true));\n    }\n  }, {\n    key: \"getSpritePos\",\n    value: function getSpritePos() {\n      var w = this.prevPos[2];\n      var h = this.prevPos[3];\n      return [-(w * this.info.slot[0]), -(h * this.info.slot[1]), w * this.info.slice[0], h * this.info.slice[1]];\n    }\n  }, {\n    key: \"getSpriteCss\",\n    value: function getSpriteCss(pos) {\n      return {\n        left: pos[0],\n        top: pos[1],\n        width: pos[2],\n        height: pos[3]\n      };\n    }\n  }, {\n    key: \"setSpritePos\",\n    value: function setSpritePos(pos) {\n      $(\"#\" + this.css_id + \"_sprite\").css(this.getSpriteCss(pos));\n    }\n  }, {\n    key: \"prevShow\",\n    value: function prevShow() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.prevShow();\n        });\n      }\n\n      this.setPrevPos();\n    }\n  }, {\n    key: \"setPrevPos\",\n    value: function setPrevPos() {\n      var instance = this;\n      $(\"#\" + this.css_id).css(this.convCssPos(this.prevPos));\n\n      if (this.isVideo()) {\n        this.setVideo(this.prevPos);\n      }\n\n      if (this.isSprite()) {\n        var sprite_pos = this.getSpritePos();\n        this.setSpritePos(sprite_pos);\n      }\n\n      if (this.isText()) {\n        $(\"#\" + this.css_id + \"-body\").css(this.prevText);\n\n        if (this.info[\"textVertical\"]) {\n          $(\"#\" + this.css_id).css(this.textVertical());\n        }\n      }\n\n      if (this.isPath()) {\n        this.path.attr(this.prevPath.path);\n        this.path.attr({\n          fill: this.prevPath.fill\n        });\n      }\n\n      if (this.isMarkdown()) {\n        this.md_css.forEach(function (element, elem_index) {\n          $(\"#\" + instance.css_id + \"-\" + elem_index).css(element);\n        });\n      }\n    } // scale and container height(is my height)\n    // data is original data not screen converted data.\n\n  }, {\n    key: \"textLayout\",\n    value: function textLayout(info, data) {\n      var x = \"center\";\n      var textAlign = \"center\";\n\n      if (info[\"textAlign\"]) {\n        switch (info[\"textAlign\"]) {\n          case \"left\":\n            textAlign = \"left\";\n            break;\n\n          case \"right\":\n            textAlign = \"right\";\n            break;\n\n          case \"top\":\n            x = \"top\";\n            break;\n\n          case \"bottom\":\n            x = \"bottom\";\n            break;\n        }\n      }\n\n      var fontname = SwipeParser.parseFontName(info, false);\n\n      var fontSize = function (info, scale) {\n        var defaultSize = 20 / 480 * SwipeScreen.swipeheight();\n        var size = SwipeParser.parseFontSize(info, SwipeScreen.swipeheight(), defaultSize, false);\n        return Math.round(size * Math.abs(scale[1]));\n      }(info, data[6]);\n\n      var containerHeight = fontSize;\n      var divHeight = data[3];\n      var top = x == \"bottom\" ? divHeight - containerHeight : 0;\n      var ret_base = {\n        top: String(SwipeScreen.virtualY(top)) + \"px\",\n        position: \"relative\",\n        \"font-size\": String(Math.round(fontSize)) + \"px\",\n        \"line-height\": String(Math.round(Math.abs(fontSize * 1.5))) + \"px\",\n        \"font-family\": String(fontname),\n        \"textAlign\": textAlign,\n        \"color\": this.conv_rgba2rgb(SwipeParser.parseColor(info, \"#000\")) // todo font size\n\n      };\n\n      if (x == \"center\") {\n        ret_base = SwipeUtil.merge(ret_base, {\n          \"width\": \"inherit\",\n          \"height\": String(SwipeScreen.virtualY(divHeight)) + \"px\",\n          \"display\": \"table-cell\",\n          \"vertical-align\": \"middle\"\n        });\n      }\n\n      return ret_base;\n    }\n  }, {\n    key: \"textVertical\",\n    value: function textVertical() {\n      return {\n        \"-webkit-writing-mode\": \"vertical-rl\",\n        \"-ms-writing-mode\": \"tb-rl\",\n        \"writing-mode\": \"vertical-rl\"\n      };\n    }\n  }, {\n    key: \"conv_rgba2rgb\",\n    value: function conv_rgba2rgb(color) {\n      var match;\n\n      if (match = color.match(/^(#\\w{6})(\\w{2})$/)) {\n        return match[1];\n      }\n\n      return color;\n    }\n  }, {\n    key: \"transformPath\",\n    value: function transformPath(info, scale) {\n      var ret = [];\n      var default_scale = [SwipeScreen.getRatio(), SwipeScreen.getRatio()];\n      var scale_array = [];\n      var scale_x = Math.abs(scale[0]);\n      var scale_y = Math.abs(scale[1]);\n      scale_array = [default_scale[0] * scale_x, default_scale[1] * scale_y];\n      var cx = 0;\n      var cy = 0;\n\n      if (scale && (scale_x != 1.0 || scale_y != 1.0)) {\n        cx = (1 - scale_x) * this.prevPos[2] / 2;\n        cy = (1 - scale_y) * this.prevPos[3] / 2;\n        ret.push(\"translate(\" + String(cx) + \",\" + String(cy) + \")\");\n      } // todo position check\n\n\n      ret.push(\"scale(\" + scale_array.join(\",\") + \")\");\n      return ret.join(\" \");\n    }\n  }, {\n    key: \"parsePath\",\n    value: function parsePath() {\n      var line = this.info.lineWidth ? this.info.lineWidth : 1;\n      var strokeColor = this.info.strokeColor ? this.info.strokeColor : \"black\"; // todo rpga color \n\n      var fillColor = this.info.fillColor ? this.info.fillColor == \"#0000\" ? \"none\" : this.info.fillColor : \"none\";\n      return {\n        path: {\n          d: this.info.path,\n          transform: this.transformPath(this.info, this.scale),\n          stroke: this.conv_rgba2rgb(strokeColor),\n          strokeWidth: line\n        },\n        fill: this.conv_rgba2rgb(fillColor)\n      };\n    }\n  }, {\n    key: \"parseFinPath\",\n    value: function parseFinPath() {\n      if (!this.hasTo()) {\n        return this.prevPath;\n      }\n\n      var info = SwipeUtil.merge(this.info, this.info[\"to\"]);\n      var line = info.lineWidth ? info.lineWidth : 1;\n      var strokeColor = info.strokeColor ? info.strokeColor : \"black\";\n      var fillColor = info.fillColor ? info.fillColor == \"#0000\" ? \"none\" : info.fillColor : \"none\";\n      var r = info.rotate ? [info.rotate[2], this.prevPos[2] / 2, this.prevPos[3] / 2].join(\",\") : \"0,0,0\";\n      return {\n        path: {\n          d: info.path,\n          transform: this.transformPath(info, this.getScale(info)),\n          stroke: this.conv_rgba2rgb(strokeColor),\n          strokeWidth: line\n        },\n        fill: this.conv_rgba2rgb(fillColor)\n      };\n    }\n  }, {\n    key: \"animatePrevPos\",\n    value: function animatePrevPos() {\n      if (this.hasTo()) {\n        var instance = this;\n        $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.prevPos), {\n          duration: this.duration,\n          progress: function progress(a, b) {\n            instance.animateTransform(1 - b);\n\n            if (instance.isPath()) {\n              $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n            }\n          }\n        });\n\n        if (this.isText()) {\n          if (instance.finText[\"font-family\"]) {\n            delete instance.finText[\"font-family\"];\n          }\n\n          $(\"#\" + this.css_id + \"-body\").animate(this.prevText, {\n            duration: this.duration\n          });\n        }\n        /*\n          if (this.isVideo()){\n         $(\"#\" + this.css_id + \"-video\").animate(this.convCssPos(this.prevPos), {\n         duration: do_duration\n         });\n          }\n        */\n\n\n        if (this.isPath()) {\n          var path = SwipeParser.clone(this.prevPath.path);\n          delete path.stroke;\n          this.path.animate(path, this.duration);\n\n          if (this.prevPath.fill != this.finPath.fill) {\n            this.path.attr({\n              fill: this.prevPath.fill\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"markdown_position\",\n    value: function markdown_position() {\n      if (this.isMarkdown()) {\n        var x = ($(\"#\" + this.css_id).height() - $(\"#md_\" + this.css_id).height()) / 2;\n        $(\"#md_\" + this.css_id).css({\n          top: x,\n          position: \"absolute\"\n        });\n      }\n    }\n  }, {\n    key: \"setFinPos\",\n    value: function setFinPos() {\n      $(\"#\" + this.css_id).css(this.convCssPos(this.finPos));\n\n      if (this.isVideo()) {\n        this.setVideo(this.finPos);\n      }\n\n      if (this.isText()) {\n        var text_css = this.textLayout(this.info, this.originalFinPos);\n        $(\"#\" + this.css_id + \"-body\").css(text_css);\n\n        if (this.info[\"textVertical\"]) {\n          $(\"#\" + this.css_id).css(this.textVertical());\n        }\n      }\n\n      if (this.isPath()) {\n        this.path.attr(this.finPath.path);\n        this.path.attr({\n          fill: this.finPath.fill\n        });\n      }\n    } // transform orders are rotate, scale.\n    // path is not scale here\n\n  }, {\n    key: \"animateTransform\",\n    value: function animateTransform(ratio) {\n      var transform = [];\n\n      if (this.angle != this.to_angle) {\n        var angle = this.angle * (1 - ratio) + this.to_angle * ratio;\n        transform.push(\"rotate(\" + angle + \"deg)\");\n      } else {\n        transform.push(\"rotate(\" + this.angle + \"deg)\");\n      }\n\n      if (!this.isPath() && !this.isText()) {\n        if (this.scale != this.to_scale) {\n          var scale = [this.scale[0] * (1 - ratio) + this.to_scale[0] * ratio, this.scale[1] * (1 - ratio) + this.to_scale[1] * ratio];\n          transform.push(\"scale(\" + scale[0] + \", \" + scale[1] + \")\");\n        } else {\n          transform.push(\"scale(\" + this.scale[0] + \", \" + this.scale[1] + \")\");\n        }\n      }\n\n      $(\"#\" + this.css_id).css(this.getTransform(transform));\n    }\n  }, {\n    key: \"animateFinPos\",\n    value: function animateFinPos() {\n      if (this.hasTo()) {\n        this.transition_timing = this.getTiming(this.info[\"to\"], this.duration);\n        var start_duration = this.transition_timing[0];\n        var do_duration = this.transition_timing[1];\n        console.log(do_duration);\n        var instance = this;\n        setTimeout(function () {\n          $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.finPos), {\n            duration: do_duration,\n            progress: function progress(a, b) {\n              instance.animateTransform(b);\n\n              if (instance.isPath()) {\n                $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n              }\n            }\n          });\n\n          if (instance.isVideo()) {\n            $(\"#\" + instance.css_id + \"-video\").animate(instance.convCssPos(instance.finPos), {\n              duration: do_duration\n            });\n          }\n\n          if (instance.isText()) {\n            if (instance.finText[\"font-family\"]) {\n              delete instance.finText[\"font-family\"];\n            }\n\n            $(\"#\" + instance.css_id + \"-body\").animate(instance.finText, {\n              duration: do_duration\n            });\n          }\n\n          if (instance.isPath()) {\n            var path = SwipeParser.clone(instance.finPath.path);\n            delete path.stroke;\n            instance.path.animate(path, do_duration); // todo this \n\n            if (instance.prevPath.fill != instance.finPath.fill) {\n              setTimeout(function () {\n                instance.path.attr({\n                  fill: instance.finPath.fill\n                });\n              }, do_duration);\n            }\n          }\n        }, start_duration);\n      }\n    }\n  }, {\n    key: \"animateShow\",\n    value: function animateShow(ratio) {\n      console.log(\"animateShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.animateShow(ratio);\n        });\n      }\n\n      if (this.hasTo()) {\n        var instance = this;\n        $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.finPos), {\n          duration: 100000000,\n          step: function step(s) {\n            if (SwipeUtil.getStatus() == \"stop\") {\n              $(this).stop(0);\n            }\n          },\n          easing: \"swipe\",\n          progress: function progress(a, b) {\n            instance.animateTransform(SwipeUtil.getRatio());\n\n            if (instance.isPath()) {\n              $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n            }\n          }\n        });\n\n        if (instance.isVideo()) {\n          $(\"#\" + instance.css_id + \"-video\").animate(instance.convCssPos(instance.finPos), {\n            duration: 100000000,\n            step: function step(s) {\n              if (SwipeTouch.getStatus() == \"stop\") {\n                $(this).stop(0);\n              }\n            },\n            easing: \"swipe\"\n          });\n        } // todo path.\n\n\n        if (instance.isPath()) {\n          var path = SwipeParser.clone(instance.finPath.path);\n          delete path.stroke;\n          instance.path.animate(path, 100000000, function (x, t, b, c, d) {\n            return Math.abs(SwipeUtil.getRatio());\n          }, function () {\n            if (instance.prevPath.fill != instance.finPath.fill) {\n              instance.path.attr({\n                fill: instance.finPath.fill\n              });\n            }\n          });\n        }\n        /*\n          if (instance.isText()) {\n         $(\"#\" + instance.css_id + \"-body\").animate(instance.finText, {\n         duration: do_duration\n           });\n          }\n          if (instance.isPath()) {\n         let path =  SwipeParser.clone(instance.finPath.path);\n         delete path.stroke;\n         instance.path.animate(path, do_duration);\n         if (instance.prevPath.fill !=  instance.finPath.fill) {\n         setTimeout(function(){\n        instance.path.attr({fill: instance.finPath.fill});\n         }, do_duration);\n         }\n          }\n        */\n\n      }\n    }\n  }, {\n    key: \"animateShowBack\",\n    value: function animateShowBack(ratio) {\n      console.log(\"animateShowBack\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.animateShowBack(ratio);\n        });\n      }\n\n      if (this.hasTo()) {\n        var instance = this;\n        $(\"#\" + instance.css_id).animate(instance.convCssPos(instance.prevPos), {\n          duration: 100000000,\n          step: function step(s) {\n            if (SwipeTouch.getStatus() == \"stop\") {\n              $(this).stop(0);\n            }\n          },\n          easing: \"swipe\",\n          progress: function progress(a, b) {\n            instance.animateTransform(Math.abs(1 + SwipeUtil.getRatio()));\n\n            if (instance.isPath()) {\n              $(\"#\" + instance.css_id).css(\"overflow\", \"visible\");\n            }\n          }\n        });\n\n        if (this.isPath()) {\n          var path = SwipeParser.clone(this.prevPath.path);\n          delete path.stroke;\n          this.path.animate(path, 100000000, function (x, t, b, c, d) {\n            return Math.abs(SwipeUtil.getRatio());\n          }, function () {\n            if (this.prevPath.fill != this.finPath.fill) {\n              this.path.attr({\n                fill: this.prevPath.fill\n              });\n            }\n          });\n        }\n        /*\n          if (instance.isVideo()){\n         $(\"#\" + instance.css_id + \"-video\").animate(instance.convCssPos(instance.finPos), {\n         duration: do_duration\n         });\n          }\n          \n          if (instance.isText()) {\n         $(\"#\" + instance.css_id + \"-body\").animate(instance.finText, {\n         duration: do_duration\n           });\n          }\n          if (instance.isPath()) {\n         let path =  SwipeParser.clone(instance.finPath.path);\n         delete path.stroke;\n         instance.path.animate(path, do_duration);\n         if (instance.prevPath.fill !=  instance.finPath.fill) {\n         setTimeout(function(){\n        instance.path.attr({fill: instance.finPath.fill});\n         }, do_duration);\n         }\n          }\n        */\n\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.pause();\n        });\n      }\n\n      if (this.isVideo()) {\n        $(\"#\" + this.css_id + \"-video\")[0].pause();\n      }\n    } // calculate position\n\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(data, to) {\n      var ret = Object.assign({}, data);\n\n      if (to[\"translate\"]) {\n        var translate = to[\"translate\"];\n        ret[0] = ret[0] + Number(translate[0]);\n        ret[1] = ret[1] + Number(translate[1]);\n      }\n\n      ret[4] = this.getAngle(to[\"rotate\"]);\n\n      if (to[\"opacity\"] != null) {\n        ret[5] = Number(to[\"opacity\"]);\n      }\n\n      if (to[\"scale\"]) {\n        ret[6] = this.getScale(to);\n      }\n\n      if (this.isText()) {\n        var w_org = ret[2];\n        var h_org = ret[3];\n        ret[2] = ret[2] * ret[6][0];\n        ret[3] = ret[3] * ret[6][1];\n        ret[0] = ret[0] - (ret[2] - w_org) / 2;\n        ret[1] = ret[1] - (ret[3] - h_org) / 2;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"getScreenPosition\",\n    value: function getScreenPosition(data) {\n      return [SwipeScreen.virtualX(data[0]), SwipeScreen.virtualY(data[1]), SwipeScreen.virtualX(data[2]), SwipeScreen.virtualY(data[3]), data[4], data[5], data[6]];\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale(info) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [1.0, 1.0];\n\n      if (info[\"scale\"]) {\n        if (SwipeParser.is(\"Array\", info[\"scale\"]) && info[\"scale\"].length == 2) {\n          scale = info[\"scale\"];\n        } else if (SwipeParser.is(\"Array\", info[\"scale\"]) && info[\"scale\"].length == 4) {\n          // this might inheritProperties issue. array is not update , just pushed.\n          scale = [info[\"scale\"][2], info[\"scale\"][3]];\n        } else if (SwipeParser.is(\"Number\", info[\"scale\"])) {\n          scale = [info[\"scale\"], info[\"scale\"]];\n        } else if (SwipeParser.is(\"String\", info[\"scale\"])) {\n          scale = [Number(info[\"scale\"]), Number(info[\"scale\"])];\n        }\n      }\n\n      return scale;\n    }\n  }, {\n    key: \"convBasicCssPos\",\n    value: function convBasicCssPos(data) {\n      return {\n        'left': data[0] + 'px',\n        'top': data[1] + 'px',\n        'width': data[2] + 'px',\n        'height': data[3] + 'px',\n        'opacity': data[5]\n      };\n    }\n  }, {\n    key: \"convCssPos\",\n    value: function convCssPos(data) {\n      var skip_transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var ret = this.convBasicCssPos(data);\n      var transform = [];\n      var angle = data[4];\n\n      if (isFinite(angle)) {\n        transform.push(\"rotate(\" + angle + \"deg)\");\n      } // path is not apply default transform\n\n\n      if (!this.isText() && !this.isPath() && !skip_transform) {\n        var scale = data[6];\n\n        if (SwipeParser.is(\"Array\", scale) && scale.length == 2) {\n          transform.push(\"scale(\" + scale[0] + \",\" + scale[1] + \")\");\n        }\n      }\n\n      if (transform.length > 0) {\n        ret = this.setTransform(ret, transform);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"setTransform\",\n    value: function setTransform(data, transform) {\n      if (transform && transform.length > 0) {\n        return SwipeUtil.merge(data, this.getTransform(transform));\n      }\n\n      return data;\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(transform) {\n      var data = {};\n      var tran = transform.join(\" \");\n      data[\"transform\"] = tran;\n      data[\"-moz-transform\"] = tran;\n      data[\"-webkit-transform\"] = tran;\n      data[\"-o-transform\"] = tran;\n      data[\"-ms-transform\"] = tran;\n      return data;\n    }\n  }, {\n    key: \"type\",\n    value: function type() {\n      if (this.info.img) {\n        return \"image\";\n      } else if (this.info.sprite) {\n        return \"sprite\";\n      } else if (this.info.video) {\n        return \"video\";\n      } else if (this.info.text) {\n        return \"text\";\n      } else if (this.info.markdown) {\n        return \"markdown\";\n      } else if (this.info.path) {\n        return \"path\";\n      } else if (this.info._pathRoot) {\n        return \"pathRoot\";\n      } else {\n        return \"div\";\n      }\n    }\n  }, {\n    key: \"isImage\",\n    value: function isImage() {\n      return this.type() == \"image\";\n    }\n  }, {\n    key: \"isSprite\",\n    value: function isSprite() {\n      return this.type() == \"sprite\";\n    }\n  }, {\n    key: \"isVideo\",\n    value: function isVideo() {\n      return this.type() == \"video\";\n    }\n  }, {\n    key: \"isText\",\n    value: function isText() {\n      return this.type() == \"text\";\n    }\n  }, {\n    key: \"isMarkdown\",\n    value: function isMarkdown() {\n      return this.type() == \"markdown\";\n    }\n  }, {\n    key: \"isPath\",\n    value: function isPath() {\n      return this.type() == \"path\";\n    }\n  }, {\n    key: \"isPathRoot\",\n    value: function isPathRoot() {\n      return this.type() == \"pathRoot\";\n    }\n  }, {\n    key: \"isDiv\",\n    value: function isDiv() {\n      return this.type() == \"div\";\n    }\n  }, {\n    key: \"hasTo\",\n    value: function hasTo() {\n      return !!this.info[\"to\"];\n    }\n  }, {\n    key: \"html\",\n    value: function html() {\n      if (this.type()) {\n        _SwipeCounter.default.increase();\n\n        if (this.isVideo()) {\n          _SwipeCounter.default.increase();\n        }\n      }\n\n      var child_html = this.elements.map(function (element, key) {\n        return element.html();\n      }).join(\"\");\n\n      if (this.isImage()) {\n        return \"<div id='\" + this.css_id + \"' class='image_box'><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<img src='\" + this.info.img + \"' class='image_element image_element_page_\" + this.page_id + \"' id='\" + this.css_id + \"_image' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' __base_id='\" + this.css_id + \"' >\" + child_html + \"</img></div></div>\";\n      } else if (this.isSprite()) {\n        return \"<div id='\" + this.css_id + \"' class='image_box'><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<img src='\" + this.info.sprite + \"' class='image_element image_element_page_\" + this.page_id + \"' id='\" + this.css_id + \"_sprite' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' __base_id='\" + this.css_id + \"' >\" + child_html + \"</img></div></div>\";\n      } else if (this.isText()) {\n        var attrs = this.defaultAttr('element text_element element_page_' + this.page_id);\n        var attr_str = this.getAttrStr(attrs);\n        return \"<div \" + attr_str + \"><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<div class='text_body' id='\" + this.css_id + \"-body'><span>\" + this.insertBr(this.parseText(this.info.text)) + child_html + \"</span></div>\" + \"</div></div>\";\n      } else if (this.isMarkdown()) {\n        var md_array = this.parseMarkdown(this.info.markdown);\n        this.md_css = md_array[1];\n        return \"<div class='element markdown_element element_page_\" + this.page_id + \"'  id='\" + this.css_id + \"' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' >\" + \"<div id='\" + this.css_id + \"_inner' class='element_inner'><div class='markdown_wrap' id='md_\" + this.css_id + \"'>\" + md_array[0] + child_html + \"</div></div></div>\";\n      } else if (this.isVideo()) {\n        var attrs = this.defaultAttr('element video_element element_page_' + this.page_id + ' video_element_' + this.page_id);\n        var attr_str = this.getAttrStr(attrs);\n        return \"<div \" + attr_str + \"><div id='\" + this.css_id + \"_inner' class='element_inner'>\" + \"<video id='\" + this.css_id + \"-video'  webkit-playsinline playsinline muted><source type='video/mp4' src='\" + this.info.video + \"'  /></video>\" + child_html + \"</div></div>\";\n      } else if (this.isPathRoot()) {\n        var elements = [];\n\n        if (Array.isArray(this.info[\"elements\"])) {\n          elements = this.info[\"elements\"];\n        } else {\n          elements = [this.info[\"elements\"]];\n        }\n\n        var paths = this.swipe_to_path({\n          element: this.info,\n          depth: 0\n        });\n        return '<div id=\"' + this.css_id + '\" __page_id=\"' + this.page_id + '\" __element_id=\"' + this.element_id + '\" class=\"element svg_element element_page_' + this.page_id + '\"><div id=\"' + this.css_id + '_inner\" class=\"element_inner\"><svg id=\"' + this.css_id + '_svg\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\">' + paths + '</svg></div></div>';\n      } else if (this.isPath()) {\n        return '<div id=\"' + this.css_id + '\" __page_id=\"' + this.page_id + '\" __element_id=\"' + this.element_id + '\" class=\"element svg_element element_page_' + this.page_id + '\"><div id=\"' + this.css_id + '_inner\" class=\"element_inner\"><svg id=\"' + this.css_id + '_svg\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\"></svg></div></div>';\n      } else if (this.isDiv()) {\n        return \"<div class='element boxelement-\" + this.page_id + \" element_page_\" + this.page_id + \"' id='\" + this.css_id + \"' __page_id='\" + this.page_id + \"' __element_id='\" + this.element_id + \"' >\" + child_html + \"</div>\";\n      } else {\n        return \"\";\n      }\n    } // from studio js \n\n  }, {\n    key: \"swipe_to_path\",\n    value: function swipe_to_path(props) {\n      var element = props.element;\n      var depth = props.depth;\n      var instance = this;\n      var scale = SwipeScreen.getRatio();\n      var ret = \"\";\n\n      if (Array.isArray(element)) {\n        ret = element.map(function (elem) {\n          return instance.swipe_to_path({\n            element: elem,\n            scale: scale,\n            depth: depth + 1\n          });\n        });\n      } else {\n        if (element.elements) {\n          if (Array.isArray(element.elements)) {\n            ret = element.elements.map(function (elem) {\n              return instance.swipe_to_path({\n                element: elem,\n                scale: scale,\n                depth: depth + 1\n              });\n            });\n          } else {\n            ret = instance.swipe_to_path({\n              element: element.elements,\n              scale: scale,\n              depth: depth + 1\n            });\n          }\n        }\n\n        if (element.path) {\n          return \"<path className='svgPath' d='\" + element.path + \"' stroke='\" + this.strokeColor(element) + \"' fill='\" + this.fillColor(element) + \"' strokeWidth='\" + this.pathLine(element) + \"' >\" + ret + \"</path>\";\n        }\n      }\n\n      if (depth === 0) {\n        return \"<g style='transform: scale(\" + scale + \", \" + scale + \")'>\" + ret + \"</g>\";\n      } else {\n        return ret;\n      }\n    }\n  }, {\n    key: \"strokeColor\",\n    value: function strokeColor(elem) {\n      var color = elem.strokeColor ? elem.strokeColor : \"black\";\n      return this.convRgba2rgb(color);\n    }\n  }, {\n    key: \"fillColor\",\n    value: function fillColor(elem) {\n      var color = elem.fillColor ? elem.fillColor === \"#0000\" ? \"none\" : elem.fillColor : \"none\";\n      return this.convRgba2rgb(color);\n    }\n  }, {\n    key: \"pathLine\",\n    value: function pathLine(elem) {\n      return elem.lineWidth ? elem.lineWidth : 1;\n    }\n  }, {\n    key: \"convRgba2rgb\",\n    value: function convRgba2rgb(color) {\n      if (color) {\n        var match = color.match(/^(#\\w{6})(\\w{2})$/);\n\n        if (match) {\n          return match[1];\n        }\n      }\n\n      return color;\n    } // end from studio\n\n  }, {\n    key: \"defaultAttr\",\n    value: function defaultAttr(class_name) {\n      var attrs = {};\n      attrs[\"class\"] = class_name;\n      attrs[\"id\"] = this.css_id;\n      attrs[\"__page_id\"] = this.page_id;\n      attrs[\"__element_id\"] = this.element_id;\n      return attrs;\n    }\n  }, {\n    key: \"getAttrStr\",\n    value: function getAttrStr(attrs) {\n      return Object.keys(attrs).map(function (key) {\n        return key + \"='\" + attrs[key] + \"'\";\n      }).join(\" \");\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.resize();\n        });\n      }\n\n      if (this.isImage()) {\n        this.setImageCss();\n      }\n\n      this.initAllData();\n\n      if (this.isPath()) {\n        this.prevPath = this.parsePath();\n        this.finPath = this.parseFinPath();\n      } // set md wrap\n\n\n      this.markdown_position();\n    }\n  }, {\n    key: \"justShow\",\n    value: function justShow() {\n      console.log(\"justShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.justShow();\n        });\n      }\n\n      if (this.no_size) {\n        this.setSize();\n      }\n\n      this.setFinPos();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      console.log(\"show\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.show();\n        });\n      }\n\n      this.setPrevPos();\n      this.animateFinPos();\n      this.loopProcess();\n    }\n  }, {\n    key: \"delayShow\",\n    value: function delayShow() {\n      console.log(\"delayShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.delayShow();\n        });\n      }\n\n      this.setPrevPos();\n      var instance = this;\n      setTimeout(function () {\n        instance.animateFinPos();\n        instance.loopProcess();\n      }, SwipeBook.pageInDuration());\n    }\n  }, {\n    key: \"doLoopProcess\",\n    value: function doLoopProcess() {\n      console.log(\"show\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.doLoopProcess();\n        });\n      }\n\n      this.loopProcess();\n    }\n  }, {\n    key: \"getTiming\",\n    value: function getTiming(element, duration) {\n      var timing = function (element) {\n        if (element[\"timing\"]) {\n          var timing = element[\"timing\"];\n\n          if (timing.length == 2 && timing[0] > 0 && timing[1] >= timing[0] && timing[1] <= 1) {\n            return timing;\n          }\n        }\n\n        return [0, 1];\n      }(element);\n\n      return [timing[0], timing[1] - timing[0], 1 - timing[1]].map(function (a) {\n        return a * duration;\n      });\n    }\n  }, {\n    key: \"getLoopDuration\",\n    value: function getLoopDuration(duration) {\n      var loop_duration = duration;\n\n      if (this.transition_timing) {\n        if (this.transition_timing[2] != 0) {\n          loop_duration = this.transition_timing[2];\n        }\n      }\n\n      return this.valueFrom(this.info[\"loop\"], \"duration\", loop_duration);\n    }\n  }, {\n    key: \"loopProcess\",\n    value: function loopProcess() {\n      if (this.info[\"loop\"]) {\n        var loop_duration = this.getLoopDuration(this.duration);\n        this.loop_timing = this.getTiming(this.info[\"loop\"], loop_duration);\n\n        if (this.play_style == \"scroll\" || !this.hasTo()) {\n          this.loop(this);\n        } else if (this.play_style == \"auto\" || this.play_style == \"always\") {\n          var duration = this.duration;\n\n          if (this.transition_timing) {\n            duration = duration - this.transition_timing[2];\n          }\n\n          var instance = this;\n          instance.loop(instance, null, duration);\n        } else {\n          console.log(\"not animate because \" + this.play);\n        }\n      }\n    }\n  }, {\n    key: \"moreloop\",\n    value: function moreloop(instance, repeat, defaultRepeat) {\n      repeat--;\n      var end_duration = this.loop_timing[2];\n      setTimeout(function () {\n        if (repeat > 0) {\n          instance.loop(instance, repeat);\n        } else if (instance.isRepeat && instance.isActive) {\n          repeat = defaultRepeat;\n          instance.loop(instance, repeat);\n        }\n      }, end_duration);\n    }\n  }, {\n    key: \"loop\",\n    value: function loop(instance) {\n      var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var wait_duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      console.log(\"loop\");\n      var data = instance.info[\"loop\"];\n      var start_duration = this.loop_timing[0];\n      var duration = this.loop_timing[1];\n      var defaultRepeat;\n\n      if (data[\"count\"]) {\n        defaultRepeat = data[\"count\"];\n      } else {\n        defaultRepeat = 1;\n      }\n\n      if (repeat == null) {\n        repeat = defaultRepeat;\n      }\n\n      var target_id = \"#\" + instance.css_id + \"_inner\";\n      setTimeout(function () {\n        switch (data[\"style\"]) {\n          case \"vibrate\":\n            var delta = instance.valueFrom(data, \"delta\", 10);\n            var orgPos = instance.originalFinPos;\n            var timing = duration / defaultRepeat / 4;\n            $(target_id).animate({\n              left: parseInt(SwipeScreen.virtualX(-delta)) + \"px\"\n            }, {\n              duration: timing,\n              complete: function complete() {\n                $(target_id).animate({\n                  left: parseInt(SwipeScreen.virtualX(delta)) + \"px\"\n                }, {\n                  duration: timing * 2,\n                  complete: function complete() {\n                    $(target_id).animate({\n                      left: \"0px\"\n                    }, {\n                      duration: timing,\n                      complete: function complete() {\n                        repeat--;\n\n                        if (repeat > 0) {\n                          instance.loop(instance, repeat);\n                        } else if (instance.isRepeat && instance.isActive) {\n                          repeat = defaultRepeat;\n                          instance.loop(instance, repeat);\n                        }\n                      }\n                    });\n                  }\n                });\n              }\n            });\n            break;\n\n          case \"shift\":\n            var dir;\n            var orgPos = instance.originalFinPos;\n\n            switch (data[\"direction\"]) {\n              case \"n\":\n                dir = {\n                  top: SwipeScreen.virtualY(-instance.h) + \"px\"\n                };\n                break;\n\n              case \"e\":\n                dir = {\n                  left: parseInt(SwipeScreen.virtualX(instance.w)) + \"px\"\n                };\n                break;\n\n              case \"w\":\n                dir = {\n                  left: parseInt(SwipeScreen.virtualX(-instance.w)) + \"px\"\n                };\n                break;\n\n              default:\n                dir = {\n                  top: SwipeScreen.virtualY(instance.h) + \"px\"\n                };\n                break;\n            }\n\n            var timing = duration / defaultRepeat;\n            instance.setPrevPos();\n            $(target_id).animate(dir, {\n              duration: timing,\n              complete: function complete() {\n                $(target_id).animate(instance.convCssPos(orgPos), {\n                  duration: 0,\n                  complete: function complete() {\n                    instance.moreloop(instance, repeat, defaultRepeat);\n                  }\n                });\n              }\n            });\n            break;\n\n          case \"blink\":\n            console.log(\"blink\");\n            var timing = duration / defaultRepeat / 4;\n            $(target_id).css({\n              opacity: 1\n            });\n            setTimeout(function () {\n              $(target_id).css({\n                opacity: 0\n              });\n              setTimeout(function () {\n                $(target_id).css({\n                  opacity: 1\n                });\n                setTimeout(function () {\n                  instance.moreloop(instance, repeat, defaultRepeat);\n                }, timing);\n              }, timing * 2);\n            }, timing);\n            break;\n\n          case \"spin\":\n            console.log(\"spin\");\n            var timing = duration / defaultRepeat;\n            $(target_id).rotate({\n              angle: 0,\n              animateTo: 360,\n              duration: timing,\n              callback: function callback() {\n                instance.moreloop(instance, repeat, defaultRepeat);\n              }\n            });\n            break;\n\n          case \"wiggle\":\n            console.log(\"wiggle\");\n            var angle = instance.valueFrom(data, \"delta\", 15);\n            var timing = duration / defaultRepeat / 4;\n            $(target_id).rotate({\n              angle: 0,\n              animateTo: angle,\n              duration: timing,\n              callback: function callback() {\n                $(target_id).rotate({\n                  angle: angle,\n                  animateTo: -angle,\n                  duration: timing * 2,\n                  callback: function callback() {\n                    $(target_id).rotate({\n                      angle: -angle,\n                      animateTo: 0,\n                      duration: timing,\n                      callback: function callback() {\n                        instance.moreloop(instance, repeat, defaultRepeat);\n                      }\n                    });\n                  }\n                });\n              }\n            });\n            break;\n\n          case \"path\":\n        }\n      }, start_duration + wait_duration);\n\n      if (data[\"style\"] == \"sprite\") {\n        console.log(\"sprite\");\n\n        var _repeat = instance.valueFrom(data, \"repeat\") || instance.valueFrom(data, \"count\"); // todo in case of image array. i need sample file.\n\n\n        if (instance.info.slice) {\n          var block = instance.info.slice[0];\n          var timing = duration / _repeat / block;\n\n          for (var i = 0; i < _repeat; i++) {\n            var _loop = function _loop(j) {\n              $(\"#\" + instance.css_id + \"_sprite\").delay(timing).queue(function () {\n                var pos = instance.getLoopSpritePos(j);\n                $(this).css(instance.getSpriteCss(pos)).dequeue();\n              });\n            };\n\n            for (var j = 0; j < block; j++) {\n              _loop(j);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getLoopSpritePos\",\n    value: function getLoopSpritePos(num) {\n      var w = this.prevPos[2];\n      var h = this.prevPos[3];\n      return [-(w * num), -(h * this.info.slot[1]), w * this.info.slice[0], h * this.info.slice[1]];\n    }\n  }, {\n    key: \"valueFrom\",\n    value: function valueFrom(data, key, defaultValue) {\n      if (data[key]) {\n        return data[key];\n      }\n\n      return defaultValue;\n    }\n  }, {\n    key: \"back\",\n    value: function back() {\n      console.log(\"back\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.back();\n        });\n      }\n\n      this.setFinPos();\n      this.animatePrevPos();\n    }\n  }, {\n    key: \"finShow\",\n    value: function finShow() {\n      console.log(\"finShow\");\n\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.finShow();\n        });\n      }\n\n      this.setFinPos();\n      this.loopProcess();\n    } // this is not work. videoElement is not set.\n\n  }, {\n    key: \"setVideoElement\",\n    value: function setVideoElement(videoElement) {\n      this.videoElement = videoElement;\n    }\n  }, {\n    key: \"inactive\",\n    value: function inactive() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.inactive();\n        });\n      }\n\n      this.isActive = false;\n    }\n  }, {\n    key: \"active\",\n    value: function active() {\n      if (this.elements) {\n        this.elements.forEach(function (element, elem_index) {\n          element.active();\n        });\n      }\n\n      this.isActive = true;\n    }\n  }]);\n\n  return SwipeElement;\n}();\n\nexports.default = SwipeElement;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeElement.js?");

/***/ }),

/***/ "./lib/SwipePage.js":
/*!**************************!*\
  !*** ./lib/SwipePage.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _SwipeParser = __webpack_require__(/*! ./SwipeParser */ \"./lib/SwipeParser.js\");\n\nvar _SwipeParser2 = _interopRequireDefault(_SwipeParser);\n\nvar _SwipeElement = __webpack_require__(/*! ./SwipeElement */ \"./lib/SwipeElement.js\");\n\nvar _SwipeElement2 = _interopRequireDefault(_SwipeElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipePage = function () {\n\tfunction SwipePage(page, scene, index) {\n\t\t_classCallCheck(this, SwipePage);\n\n\t\tif (scene) {\n\t\t\tpage = _SwipeParser2.default.inheritProperties(page, scene);\n\t\t}\n\t\tthis.page = page;\n\t\tthis.scene = scene;\n\t\tthis.index = index;\n\t\tthis.elements = [];\n\t\tthis.duration = this.page[\"duration\"] ? this.page[\"duration\"] * 1000 : 200;\n\t\tthis.bc = this.page[\"bc\"] || \"#ffffff\";\n\t\tthis.play_style = this.page[\"play\"] || \"auto\";\n\t\tthis.transition = this.page[\"transition\"] || (this.play_style == \"scroll\" ? \"replace\" : \"scroll\");\n\t}\n\n\t_createClass(SwipePage, [{\n\t\tkey: \"loadElement\",\n\t\tvalue: function loadElement() {\n\t\t\tvar instance = this;\n\t\t\tvar elems = [];\n\t\t\tif (this.page[\"elements\"]) {\n\t\t\t\tthis.page[\"elements\"].forEach(function (element, elem_index) {\n\t\t\t\t\tinstance.elements.push(new _SwipeElement2.default(element, instance.index, elem_index, instance.play_style, instance.duration));\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"elementLoad\",\n\t\tvalue: function elementLoad(element) {\n\t\t\tvar ret = [];\n\t\t\tvar instance = this;\n\n\t\t\tret.push(element);\n\t\t\tif (element[\"elements\"]) {\n\t\t\t\telement[\"elements\"].forEach(function (elem, elem_index) {\n\t\t\t\t\tinstance.elementLoad(elem).forEach(function (elem2, elem_index2) {\n\t\t\t\t\t\tvar copy_obj = Object.assign({}, element);\n\t\t\t\t\t\tdelete copy_obj.elements;\n\t\t\t\t\t\tret.push($.extend(true, copy_obj, elem2));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\t}, {\n\t\tkey: \"getHtml\",\n\t\tvalue: function getHtml() {\n\t\t\tvar instance = this;\n\t\t\tvar elems = [];\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telems.push(element.html());\n\t\t\t});\n\t\t\t// todo snbinder\n\t\t\treturn \"<div id='page_\" + this.index + \"' class='page' __page_id='\" + this.index + \"'>\" + elems.join(\"\") + \"</div>\";\n\t\t}\n\t}, {\n\t\tkey: \"getBc\",\n\t\tvalue: function getBc() {\n\t\t\treturn this.bc;\n\t\t}\n\t}, {\n\t\tkey: \"getTransition\",\n\t\tvalue: function getTransition() {\n\t\t\treturn this.transition;\n\t\t}\n\t}, {\n\t\tkey: \"getPlayStyle\",\n\t\tvalue: function getPlayStyle() {\n\t\t\treturn this.play_style;\n\t\t}\n\t}, {\n\t\tkey: \"initElement\",\n\t\tvalue: function initElement(index) {\n\t\t\tvar indexes = index.split(\"-\");\n\t\t\tif (indexes.length == 1) {\n\t\t\t\tthis.elements[index].initData();\n\t\t\t} else {\n\t\t\t\tthis.elements[indexes.shift()].initData(indexes.join(\"-\"));\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"getElement\",\n\t\tvalue: function getElement(index) {\n\t\t\tvar indexes = index.split(\"-\");\n\t\t\tif (indexes.length == 1) {\n\t\t\t\treturn this.elements[index].getElement();\n\t\t\t} else {\n\t\t\t\treturn this.elements[indexes.shift()].getElement(indexes.join(\"-\"));\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"resize\",\n\t\tvalue: function resize() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.resize();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"justShow\",\n\t\tvalue: function justShow() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.justShow();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"show\",\n\t\tvalue: function show() {\n\t\t\tvar instance = this;\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.show();\n\t\t\t});\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tinstance.speech(instance);\n\t\t\t}, this.duration);\n\t\t}\n\t}, {\n\t\tkey: \"animateShow\",\n\t\tvalue: function animateShow() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.animateShow();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"animateShowBack\",\n\t\tvalue: function animateShowBack() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.animateShowBack();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"delayShow\",\n\t\tvalue: function delayShow() {\n\t\t\tvar instance = this;\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.delayShow();\n\t\t\t});\n\t\t\tsetTimeout(function () {\n\t\t\t\tinstance.speech(instance);\n\t\t\t}, this.duration);\n\t\t}\n\t}, {\n\t\tkey: \"back\",\n\t\tvalue: function back() {\n\t\t\tvar instance = this;\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.back();\n\t\t\t});\n\t\t\tsetTimeout(function () {\n\t\t\t\tinstance.speech(instance);\n\t\t\t}, this.duration);\n\t\t}\n\t}, {\n\t\tkey: \"finShow\",\n\t\tvalue: function finShow() {\n\t\t\tvar instance = this;\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.finShow();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"prevShow\",\n\t\tvalue: function prevShow() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.prevShow();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"pause\",\n\t\tvalue: function pause() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.pause();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"doLoopProcess\",\n\t\tvalue: function doLoopProcess() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.doLoopProcess();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"getScene\",\n\t\tvalue: function getScene() {\n\t\t\treturn this.scene;\n\t\t}\n\n\t\t// todo locale\n\n\t}, {\n\t\tkey: \"speech\",\n\t\tvalue: function speech(instance) {\n\t\t\tvar userAgent = window.navigator.userAgent.toLowerCase();\n\t\t\tif (userAgent.indexOf('chrome') != -1 || userAgent.indexOf('safari') != -1) {\n\t\t\t\tif (instance.page[\"speech\"]) {\n\t\t\t\t\tspeechSynthesis.speak(new SpeechSynthesisUtterance(instance.page[\"speech\"][\"text\"]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"active\",\n\t\tvalue: function active() {\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.active();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"inactive\",\n\t\tvalue: function inactive() {\n\t\t\tvar instance = this;\n\t\t\tthis.elements.forEach(function (element, elem_index) {\n\t\t\t\telement.inactive();\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn SwipePage;\n}();\n\nexports.default = SwipePage;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipePage.js?");

/***/ }),

/***/ "./lib/SwipeParser.js":
/*!****************************!*\
  !*** ./lib/SwipeParser.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeParser = function () {\n\tfunction SwipeParser() {\n\t\tvar _handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t_classCallCheck(this, SwipeParser);\n\t}\n\n\t_createClass(SwipeParser, null, [{\n\t\tkey: \"parseColor\",\n\t\tvalue: function parseColor(info, defaultColor) {\n\t\t\tif (info && info[\"color\"]) {\n\t\t\t\treturn info[\"color\"];\n\t\t\t}\n\t\t\tif (info && info[\"textColor\"]) {\n\t\t\t\treturn info[\"textColor\"];\n\t\t\t}\n\t\t\treturn defaultColor;\n\t\t}\n\t}, {\n\t\tkey: \"transformedPath\",\n\t\tvalue: function transformedPath() {\n\t\t\t// not implement\n\t\t}\n\t}, {\n\t\tkey: \"parseTransform\",\n\t\tvalue: function parseTransform() {\n\t\t\t// not implement\n\t\t}\n\t}, {\n\t\tkey: \"is\",\n\t\tvalue: function is(type, obj) {\n\t\t\tvar clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t\t\treturn obj !== undefined && obj !== null && clas === type;\n\t\t}\n\t}, {\n\t\tkey: \"inheritProperties\",\n\t\tvalue: function inheritProperties(obj, tempObj) {\n\t\t\tvar ret = SwipeParser.clone(obj);\n\t\t\tvar idMap = {};\n\t\t\tif (tempObj) {\n\t\t\t\tvar tempClone = SwipeParser.clone(tempObj);\n\t\t\t\tfor (var keyString in tempClone) {\n\t\t\t\t\tvar tempValue = tempClone[keyString];\n\t\t\t\t\t// $.each(tempClone, (keyString, tempValue) => {\n\t\t\t\t\tvar ret_val = SwipeParser.clone(tempValue);\n\n\t\t\t\t\tif (ret[keyString] == null) {\n\t\t\t\t\t\tret[keyString] = ret_val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (SwipeParser.is(\"Array\", ret[keyString]) && SwipeParser.is(\"Array\", ret_val)) {\n\t\t\t\t\t\t\tidMap = {};\n\n\t\t\t\t\t\t\t// $.each(ret_val, (index, tempItem) => {\n\t\t\t\t\t\t\tfor (var index in ret_val) {\n\t\t\t\t\t\t\t\tvar tempItem = ret_val[index];\n\t\t\t\t\t\t\t\tif (SwipeParser.is(\"String\", tempItem[\"id\"])) {\n\t\t\t\t\t\t\t\t\tidMap[tempItem[\"id\"]] = index;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tret[keyString].forEach(function (objItem, key) {\n\t\t\t\t\t\t\t\tif (SwipeParser.is(\"String\", objItem[\"id\"]) && (key = idMap[objItem[\"id\"]]) != null) {\n\t\t\t\t\t\t\t\t\tret_val[key] = SwipeParser.inheritProperties(objItem, ret_val[key]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tret_val.push(objItem);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tret[keyString] = ret_val;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t}, {\n\t\tkey: \"localizedStringForKey\",\n\t\tvalue: function localizedStringForKey(key) {\n\t\t\t// todo from page element\n\t\t\tvar pageinfo = {};\n\n\t\t\tvar strings;\n\t\t\tif (strings = pageinfo[\"strings\"]) {\n\t\t\t\tvar text = strings[key];\n\t\t\t\t// todo localize\n\t\t\t\treturn SwipeParser.localizedString(text, \"ja\");\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t}, {\n\t\tkey: \"localizedString\",\n\t\tvalue: function localizedString(params, langId) {\n\t\t\tif (params[langId]) {\n\t\t\t\treturn params[langId];\n\t\t\t} else {\n\t\t\t\treturn params[\"*\"];\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t}, {\n\t\tkey: \"parseFontSize\",\n\t\tvalue: function parseFontSize(info, full, defaultValue, markdown) {\n\t\t\tvar key = markdown ? \"size\" : \"fontSize\";\n\n\t\t\tif (info[key]) {\n\t\t\t\treturn SwipeParser.parseSize(info[key], full, defaultValue);\n\t\t\t}\n\t\t\treturn defaultValue;\n\t\t}\n\t}, {\n\t\tkey: \"parseSize\",\n\t\tvalue: function parseSize(value, full, defaultValue) {\n\t\t\tif (Number.isInteger(value)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (isFinite(value)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\treturn SwipeParser.parsePercent(value, full, defaultValue);\n\t\t}\n\t}, {\n\t\tkey: \"parsePercent\",\n\t\tvalue: function parsePercent(value, full, defaultValue) {\n\t\t\tvar reg = /^([0-9][0-9\\\\.]*)%$/;\n\t\t\tvar match = value.match(reg);\n\t\t\tif (match) {\n\t\t\t\treturn Math.floor(match[1]) / 100 * full;\n\t\t\t}\n\t\t\treturn defaultValue;\n\t\t}\n\t}, {\n\t\tkey: \"parseFontName\",\n\t\tvalue: function parseFontName(value, markdown) {\n\t\t\tvar key = markdown ? \"name\" : \"fontName\";\n\t\t\tif (value) {\n\t\t\t\tvar name = value[key];\n\t\t\t\tif (jQuery.type(name) === \"string\") {\n\t\t\t\t\treturn name;\n\t\t\t\t} else if (jQuery.type(name) === \"array\") {\n\t\t\t\t\treturn name.join(\",\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn \"sans-serif, Helvetica\";\n\t\t\t// return [];\n\t\t}\n\t}, {\n\t\tkey: \"parseShadow\",\n\t\tvalue: function parseShadow(info) {\n\t\t\tvar scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\t\tvar x = SwipeParser.parseSize((info[\"offset\"] || [])[0], SwipeScreen.swipeheight(), 1) * scale;\n\t\t\tx = SwipeScreen.virtualX(x);\n\t\t\tvar y = SwipeParser.parseSize((info[\"offset\"] || [])[1], SwipeScreen.swipewidth(), 1) * scale;\n\t\t\ty = SwipeScreen.virtualY(y);\n\n\t\t\tvar color = info[\"color\"] || \"black\";\n\n\t\t\treturn x + \"px \" + y + \"px 3px \" + color;\n\t\t}\n\t}, {\n\t\tkey: \"clone\",\n\t\tvalue: function clone(obj) {\n\t\t\tvar copy;\n\n\t\t\t// Handle the 3 simple types, and null or undefined\n\t\t\tif (null == obj || \"object\" != (typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj))) return obj;\n\n\t\t\t// Handle Date\n\t\t\tif (obj instanceof Date) {\n\t\t\t\tcopy = new Date();\n\t\t\t\tcopy.setTime(obj.getTime());\n\t\t\t\treturn copy;\n\t\t\t}\n\n\t\t\t// Handle Array\n\t\t\tif (obj instanceof Array) {\n\t\t\t\tcopy = [];\n\t\t\t\tfor (var i = 0, len = obj.length; i < len; i++) {\n\t\t\t\t\tcopy[i] = SwipeParser.clone(obj[i]);\n\t\t\t\t}\n\t\t\t\treturn copy;\n\t\t\t}\n\n\t\t\t// Handle Object\n\t\t\tif (obj instanceof Object) {\n\t\t\t\tcopy = {};\n\t\t\t\tfor (var attr in obj) {\n\t\t\t\t\tif (obj.hasOwnProperty(attr)) copy[attr] = SwipeParser.clone(obj[attr]);\n\t\t\t\t}\n\t\t\t\treturn copy;\n\t\t\t}\n\n\t\t\tthrow new Error(\"Unable to copy obj! Its type isn't supported.\");\n\t\t}\n\t}]);\n\n\treturn SwipeParser;\n}();\n\nexports.default = SwipeParser;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeParser.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeParser"] = factory();
	else
		root["SwipeParser"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeParser.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeParser.js":
/*!****************************!*\
  !*** ./lib/SwipeParser.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeParser = function () {\n\tfunction SwipeParser() {\n\t\tvar _handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t_classCallCheck(this, SwipeParser);\n\t}\n\n\t_createClass(SwipeParser, null, [{\n\t\tkey: \"parseColor\",\n\t\tvalue: function parseColor(info, defaultColor) {\n\t\t\tif (info && info[\"color\"]) {\n\t\t\t\treturn info[\"color\"];\n\t\t\t}\n\t\t\tif (info && info[\"textColor\"]) {\n\t\t\t\treturn info[\"textColor\"];\n\t\t\t}\n\t\t\treturn defaultColor;\n\t\t}\n\t}, {\n\t\tkey: \"transformedPath\",\n\t\tvalue: function transformedPath() {\n\t\t\t// not implement\n\t\t}\n\t}, {\n\t\tkey: \"parseTransform\",\n\t\tvalue: function parseTransform() {\n\t\t\t// not implement\n\t\t}\n\t}, {\n\t\tkey: \"is\",\n\t\tvalue: function is(type, obj) {\n\t\t\tvar clas = Object.prototype.toString.call(obj).slice(8, -1);\n\t\t\treturn obj !== undefined && obj !== null && clas === type;\n\t\t}\n\t}, {\n\t\tkey: \"inheritProperties\",\n\t\tvalue: function inheritProperties(obj, tempObj) {\n\t\t\tvar ret = SwipeParser.clone(obj);\n\t\t\tvar idMap = {};\n\t\t\tif (tempObj) {\n\t\t\t\tvar tempClone = SwipeParser.clone(tempObj);\n\t\t\t\tfor (var keyString in tempClone) {\n\t\t\t\t\tvar tempValue = tempClone[keyString];\n\t\t\t\t\t// $.each(tempClone, (keyString, tempValue) => {\n\t\t\t\t\tvar ret_val = SwipeParser.clone(tempValue);\n\n\t\t\t\t\tif (ret[keyString] == null) {\n\t\t\t\t\t\tret[keyString] = ret_val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (SwipeParser.is(\"Array\", ret[keyString]) && SwipeParser.is(\"Array\", ret_val)) {\n\t\t\t\t\t\t\tidMap = {};\n\n\t\t\t\t\t\t\t// $.each(ret_val, (index, tempItem) => {\n\t\t\t\t\t\t\tfor (var index in ret_val) {\n\t\t\t\t\t\t\t\tvar tempItem = ret_val[index];\n\t\t\t\t\t\t\t\tif (SwipeParser.is(\"String\", tempItem[\"id\"])) {\n\t\t\t\t\t\t\t\t\tidMap[tempItem[\"id\"]] = index;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tret[keyString].forEach(function (objItem, key) {\n\t\t\t\t\t\t\t\tif (SwipeParser.is(\"String\", objItem[\"id\"]) && (key = idMap[objItem[\"id\"]]) != null) {\n\t\t\t\t\t\t\t\t\tret_val[key] = SwipeParser.inheritProperties(objItem, ret_val[key]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tret_val.push(objItem);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tret[keyString] = ret_val;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t}, {\n\t\tkey: \"localizedStringForKey\",\n\t\tvalue: function localizedStringForKey(key) {\n\t\t\t// todo from page element\n\t\t\tvar pageinfo = {};\n\n\t\t\tvar strings;\n\t\t\tif (strings = pageinfo[\"strings\"]) {\n\t\t\t\tvar text = strings[key];\n\t\t\t\t// todo localize\n\t\t\t\treturn SwipeParser.localizedString(text, \"ja\");\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t}, {\n\t\tkey: \"localizedString\",\n\t\tvalue: function localizedString(params, langId) {\n\t\t\tif (params[langId]) {\n\t\t\t\treturn params[langId];\n\t\t\t} else {\n\t\t\t\treturn params[\"*\"];\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t}, {\n\t\tkey: \"parseFontSize\",\n\t\tvalue: function parseFontSize(info, full, defaultValue, markdown) {\n\t\t\tvar key = markdown ? \"size\" : \"fontSize\";\n\n\t\t\tif (info[key]) {\n\t\t\t\treturn SwipeParser.parseSize(info[key], full, defaultValue);\n\t\t\t}\n\t\t\treturn defaultValue;\n\t\t}\n\t}, {\n\t\tkey: \"parseSize\",\n\t\tvalue: function parseSize(value, full, defaultValue) {\n\t\t\tif (Number.isInteger(value)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (isFinite(value)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\treturn SwipeParser.parsePercent(value, full, defaultValue);\n\t\t}\n\t}, {\n\t\tkey: \"parsePercent\",\n\t\tvalue: function parsePercent(value, full, defaultValue) {\n\t\t\tvar reg = /^([0-9][0-9\\\\.]*)%$/;\n\t\t\tvar match = value.match(reg);\n\t\t\tif (match) {\n\t\t\t\treturn Math.floor(match[1]) / 100 * full;\n\t\t\t}\n\t\t\treturn defaultValue;\n\t\t}\n\t}, {\n\t\tkey: \"parseFontName\",\n\t\tvalue: function parseFontName(value, markdown) {\n\t\t\tvar key = markdown ? \"name\" : \"fontName\";\n\t\t\tif (value) {\n\t\t\t\tvar name = value[key];\n\t\t\t\tif (jQuery.type(name) === \"string\") {\n\t\t\t\t\treturn name;\n\t\t\t\t} else if (jQuery.type(name) === \"array\") {\n\t\t\t\t\treturn name.join(\",\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn \"sans-serif, Helvetica\";\n\t\t\t// return [];\n\t\t}\n\t}, {\n\t\tkey: \"parseShadow\",\n\t\tvalue: function parseShadow(info) {\n\t\t\tvar scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\t\tvar x = SwipeParser.parseSize((info[\"offset\"] || [])[0], SwipeScreen.swipeheight(), 1) * scale;\n\t\t\tx = SwipeScreen.virtualX(x);\n\t\t\tvar y = SwipeParser.parseSize((info[\"offset\"] || [])[1], SwipeScreen.swipewidth(), 1) * scale;\n\t\t\ty = SwipeScreen.virtualY(y);\n\n\t\t\tvar color = info[\"color\"] || \"black\";\n\n\t\t\treturn x + \"px \" + y + \"px 3px \" + color;\n\t\t}\n\t}, {\n\t\tkey: \"clone\",\n\t\tvalue: function clone(obj) {\n\t\t\tvar copy;\n\n\t\t\t// Handle the 3 simple types, and null or undefined\n\t\t\tif (null == obj || \"object\" != (typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj))) return obj;\n\n\t\t\t// Handle Date\n\t\t\tif (obj instanceof Date) {\n\t\t\t\tcopy = new Date();\n\t\t\t\tcopy.setTime(obj.getTime());\n\t\t\t\treturn copy;\n\t\t\t}\n\n\t\t\t// Handle Array\n\t\t\tif (obj instanceof Array) {\n\t\t\t\tcopy = [];\n\t\t\t\tfor (var i = 0, len = obj.length; i < len; i++) {\n\t\t\t\t\tcopy[i] = SwipeParser.clone(obj[i]);\n\t\t\t\t}\n\t\t\t\treturn copy;\n\t\t\t}\n\n\t\t\t// Handle Object\n\t\t\tif (obj instanceof Object) {\n\t\t\t\tcopy = {};\n\t\t\t\tfor (var attr in obj) {\n\t\t\t\t\tif (obj.hasOwnProperty(attr)) copy[attr] = SwipeParser.clone(obj[attr]);\n\t\t\t\t}\n\t\t\t\treturn copy;\n\t\t\t}\n\n\t\t\tthrow new Error(\"Unable to copy obj! Its type isn't supported.\");\n\t\t}\n\t}]);\n\n\treturn SwipeParser;\n}();\n\nexports.default = SwipeParser;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeParser.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeScreen"] = factory();
	else
		root["SwipeScreen"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeScreen.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeScreen.js":
/*!****************************!*\
  !*** ./lib/SwipeScreen.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeScreen = function () {\n\tfunction SwipeScreen() {\n\t\t_classCallCheck(this, SwipeScreen);\n\t}\n\n\t_createClass(SwipeScreen, null, [{\n\t\tkey: \"getSize\",\n\t\tvalue: function getSize() {\n\t\t\tif (window.swipe_screen_size) {\n\t\t\t\treturn window.swipe_screen_size[1];\n\t\t\t} else {\n\t\t\t\treturn 100;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"setSize\",\n\t\tvalue: function setSize(size) {\n\t\t\twindow.swipe_screen_size = [size, size];\n\t\t}\n\t}, {\n\t\tkey: \"setSizes\",\n\t\tvalue: function setSizes(width, height) {\n\t\t\twindow.swipe_screen_size = [width, height];\n\t\t}\n\t}, {\n\t\tkey: \"init\",\n\t\tvalue: function init(width, height) {\n\t\t\twindow.swipe_screen_width = width;\n\t\t\twindow.swipe_screen_height = height;\n\n\t\t\tif (window.swipe_screen_width == 0) {\n\t\t\t\twindow.swipe_screen_width = window.swipe_screen_height * $(window).width() / $(window).height();\n\t\t\t}\n\t\t\tif (window.swipe_screen_height == 0) {\n\t\t\t\twindow.swipe_screen_height = window.swipe_screen_width * $(window).height() / $(window).width();\n\t\t\t}\n\n\t\t\tSwipeScreen.setOriginalSize();\n\t\t\tSwipeScreen.setVirtualSize();\n\t\t}\n\t}, {\n\t\tkey: \"setOriginalSize\",\n\t\tvalue: function setOriginalSize() {\n\t\t\twindow.swipe_screen_window_width = $(window).width();\n\t\t\twindow.swipe_screen_window_height = $(window).height();\n\t\t}\n\n\t\t// todo\n\t\t//  set vertical and horizontal mode\n\n\t}, {\n\t\tkey: \"setVirtualSize\",\n\t\tvalue: function setVirtualSize() {\n\t\t\tvar size = window.swipe_screen_size || [100, 100];\n\t\t\tvar real_ratio = window.swipe_screen_window_width * size[0] / (window.swipe_screen_window_height * size[1]);\n\t\t\tvar virtual_ratio = window.swipe_screen_width / window.swipe_screen_height;\n\t\t\twindow.swipe_screen_ratio = 1.0;\n\n\t\t\tif (real_ratio / virtual_ratio >= 1) {\n\t\t\t\twindow.swipe_screen_virtual_height = $(window).height() * size[1] / 100;\n\t\t\t\twindow.swipe_screen_virtual_width = window.swipe_screen_width / window.swipe_screen_height * window.swipe_screen_virtual_height;\n\t\t\t} else {\n\t\t\t\twindow.swipe_screen_virtual_width = $(window).width() * size[0] / 100;\n\t\t\t\twindow.swipe_screen_virtual_height = window.swipe_screen_height / window.swipe_screen_width * window.swipe_screen_virtual_width;\n\t\t\t}\n\t\t\twindow.swipe_screen_ratio = window.swipe_screen_virtual_width / window.swipe_screen_width;\n\t\t}\n\t}, {\n\t\tkey: \"getRatio\",\n\t\tvalue: function getRatio() {\n\t\t\treturn window.swipe_screen_ratio;\n\t\t}\n\t}, {\n\t\tkey: \"swipewidth\",\n\t\tvalue: function swipewidth() {\n\t\t\treturn window.swipe_screen_width;\n\t\t}\n\t}, {\n\t\tkey: \"swipeheight\",\n\t\tvalue: function swipeheight() {\n\t\t\treturn window.swipe_screen_height;\n\t\t}\n\t}, {\n\t\tkey: \"virtualwidth\",\n\t\tvalue: function virtualwidth() {\n\t\t\treturn window.swipe_screen_virtual_width;\n\t\t}\n\t}, {\n\t\tkey: \"virtualheight\",\n\t\tvalue: function virtualheight() {\n\t\t\treturn window.swipe_screen_virtual_height;\n\t\t}\n\t}, {\n\t\tkey: \"refresh\",\n\t\tvalue: function refresh() {\n\t\t\tSwipeScreen.setOriginalSize();\n\t\t\tSwipeScreen.setVirtualSize();\n\t\t}\n\n\t\t// width\n\n\t}, {\n\t\tkey: \"virtualX\",\n\t\tvalue: function virtualX(x) {\n\t\t\tif (x == undefined) {\n\t\t\t\treturn window.swipe_screen_virtual_width;\n\t\t\t}\n\t\t\tif (window.swipe_screen_width) {\n\t\t\t\treturn x / window.swipe_screen_width * window.swipe_screen_virtual_width;\n\t\t\t}\n\t\t\treturn x;\n\t\t}\n\t}, {\n\t\tkey: \"virtualY\",\n\t\tvalue: function virtualY(y) {\n\t\t\tif (y == undefined) {\n\t\t\t\treturn window.swipe_screen_virtual_height;\n\t\t\t}\n\t\t\tif (window.swipe_screen_height) {\n\t\t\t\treturn y / window.swipe_screen_height * window.swipe_screen_virtual_height;\n\t\t\t}\n\t\t\treturn y;\n\t\t}\n\t}]);\n\n\treturn SwipeScreen;\n}();\n\nexports.default = SwipeScreen;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeScreen.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeTouch"] = factory();
	else
		root["SwipeTouch"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeTouch.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeTouch.js":
/*!***************************!*\
  !*** ./lib/SwipeTouch.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\t\t\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeTouch = function () {\n\t\t\t\t\tfunction SwipeTouch() {\n\t\t\t\t\t\t\t\t\t\t_classCallCheck(this, SwipeTouch);\n\t\t\t\t\t}\n\n\t\t\t\t\t_createClass(SwipeTouch, null, [{\n\t\t\t\t\t\t\t\t\t\tkey: \"init\",\n\t\t\t\t\t\t\t\t\t\tvalue: function init() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.startY = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.currentY = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.diff = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.ratio = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.options = options;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.status = \"stop\";\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// this.paging = \"vertical\"; //\"rightToLeft\", \"leftToRight\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.paging = options.paging ? options.paging : \"vertical\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(this.paging);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// \"leftToRight\"; //\"rightToLeft\", \"leftToRight\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// this.paging = \"rightToLeft\"; //\"rightToLeft\", \"leftToRight\"\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dom = options.dom ? options.dom : window;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar scroll_event = 'onwheel' in document ? 'wheel' : 'onmousewheel' in document ? 'mousewheel' : 'DOMMouseScroll';\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(window).on(\"scrollstart\", function (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar current = void 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.paging == \"rightToLeft\" || self.paging == \"leftToRight\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent = e.originalEvent.clientX ? e.originalEvent.clientX : event.changedTouches[0].pageX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"vertical\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent = e.originalEvent.clientY ? e.originalEvent.clientY : event.changedTouches[0].pageY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.currentY = current;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.startY = current;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSwipeTouch.start_event(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).on(scroll_event, function (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar delta = void 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.paging == \"rightToLeft\" || self.paging == \"leftToRight\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta = e.originalEvent.deltaX ? -e.originalEvent.deltaX : e.originalEvent.wheelDelta ? e.originalEvent.wheelDelta : -e.originalEvent.detail;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"vertical\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta = e.originalEvent.deltaY ? -e.originalEvent.deltaY : e.originalEvent.wheelDelta ? e.originalEvent.wheelDelta : -e.originalEvent.detail;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (delta || delta === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.currentY = self.currentY - delta;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.paging == \"rightToLeft\" || self.paging == \"leftToRight\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.currentY = event.changedTouches[0].pageX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"vertical\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.currentY = event.changedTouches[0].pageY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.diff = self.currentY - self.startY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.paging == \"rightToLeft\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = self.diff / $(window).innerWidth();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"leftToRight\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = -(self.diff / $(window).innerWidth());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"vertical\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = self.diff / $(window).innerHeight();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.ratio > 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.ratio < -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = -1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSwipeTouch.scroll_event_handler(e, self.ratio);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).on(\"scrollstop\", function (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"scrollstop\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSwipeTouch.stop_event(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).on(\"touchstart\", function (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar current;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.paging == \"rightToLeft\" || self.paging == \"leftToRight\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent = e.originalEvent.clientX ? e.originalEvent.clientX : event.changedTouches[0].pageX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"vertical\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent = e.originalEvent.clientY ? e.originalEvent.clientY : event.changedTouches[0].pageY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.startY = current;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSwipeTouch.start_event(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).on('touchmove.noScroll', function (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar current = void 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.paging == \"rightToLeft\" || self.paging == \"leftToRight\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent = e.originalEvent && e.originalEvent.pageX ? e.originalEvent.pageX : event.changedTouches[0].pageX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"vertical\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent = e.originalEvent && e.originalEvent.pageY ? e.originalEvent.pageY : event.changedTouches[0].pageY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.diff = self.startY - current;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (self.paging == \"rightToLeft\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = self.diff / $(window).innerWidth();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"leftToRight\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = -self.diff / $(window).innerWidth();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (self.paging == \"vertical\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.ratio = self.diff / $(window).innerHeight();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSwipeTouch.scroll_event_handler(e, self.ratio);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).on(\"touchend\", function (e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSwipeTouch.stop_event(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tkey: \"scroll_event_handler\",\n\t\t\t\t\t\t\t\t\t\tvalue: function scroll_event_handler(event, ratio) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"scroll\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.status = \"scroll\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.options.scroll_callback) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.options.scroll_callback(event, ratio);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tkey: \"stop_event\",\n\t\t\t\t\t\t\t\t\t\tvalue: function stop_event(event) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"stop\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.status = \"stop\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.options.stop_callback) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.options.stop_callback(event, this.ratio);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tkey: \"getRatio\",\n\t\t\t\t\t\t\t\t\t\tvalue: function getRatio() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn this.ratio;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tkey: \"start_event\",\n\t\t\t\t\t\t\t\t\t\tvalue: function start_event() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.ratio = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"start\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.status = \"start\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.options.start_callback) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.options.start_callback(event, this.ratio);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\t\t\tkey: \"getStatus\",\n\t\t\t\t\t\t\t\t\t\tvalue: function getStatus() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn this.status;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t}]);\n\n\t\t\t\t\treturn SwipeTouch;\n}();\n\nexports.default = SwipeTouch;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeTouch.js?");

/***/ })

/******/ });
});
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SwipeUtil"] = factory();
	else
		root["SwipeUtil"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/SwipeUtil.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/SwipeUtil.js":
/*!**************************!*\
  !*** ./lib/SwipeUtil.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SwipeUtil = function () {\n\tfunction SwipeUtil() {\n\t\t_classCallCheck(this, SwipeUtil);\n\t}\n\n\t_createClass(SwipeUtil, null, [{\n\t\tkey: \"getParameterByName\",\n\t\tvalue: function getParameterByName(name, url) {\n\t\t\tif (!url) url = window.location.href;\n\t\t\tname = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n\t\t\tvar regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n\t\t\t    results = regex.exec(url);\n\t\t\tif (!results) return null;\n\t\t\tif (!results[2]) return '';\n\t\t\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n\t\t}\n\t}, {\n\t\tkey: \"reloadSwipe\",\n\t\tvalue: function reloadSwipe(data, css_id, back_css_id) {\n\t\t\tvar default_page = 0;\n\n\t\t\tif (location.hash) {\n\t\t\t\t// default_page = Number(location.hash.substr(1));\n\t\t\t}\n\t\t\tvar swipe_book = new SwipeBook(data, default_page, css_id, back_css_id);\n\t\t\tthis.swipe_book = swipe_book;\n\t\t}\n\t}, {\n\t\tkey: \"initSwipe\",\n\t\tvalue: function initSwipe(data, css_id, back_css_id) {\n\t\t\tvar skip_init = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n\t\t\t$(document.body).css({ \"margin\": 0, \"padding\": 0, \"background-color\": \"#fff\", \"font-size\": \"26px\" });\n\t\t\t$('div').css({ \"margin\": 0, \"padding\": 0, \"background-color\": \"#fff\", \"font-size\": \"26px\" });\n\t\t\tvar default_page = 0;\n\n\t\t\tif (location.hash) {\n\t\t\t\tdefault_page = Number(location.hash.substr(1));\n\t\t\t}\n\n\t\t\tvar swipe_book = new SwipeBook(data, default_page, css_id, back_css_id);\n\t\t\tthis.swipe_book = swipe_book;\n\n\t\t\t$(css_id).on(\"click\", function () {\n\t\t\t\tswipe_book.next();\n\t\t\t});\n\n\t\t\t$(window).on('hashchange', function () {\n\t\t\t\tvar nextStep = Number(location.hash.substr(1));\n\t\t\t\tif (\"#\" + swipe_book.getStep() != location.hash) {\n\t\t\t\t\tif (swipe_book.getStep() > nextStep) {\n\t\t\t\t\t\tswipe_book.back();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswipe_book.next();\n\t\t\t\t\t}\n\t\t\t\t\t// swipe_book.show(Number(location.hash.substr(1)));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(window).resize(function () {\n\t\t\t\tclearTimeout(window.resizedFinished);\n\t\t\t\twindow.resizedFinished = setTimeout(function () {\n\t\t\t\t\tswipe_book.resize();\n\t\t\t\t}, 250);\n\t\t\t});\n\n\t\t\tif (SwipeUtil.getParameterByName(\"autoplay\") === \"1\") {\n\t\t\t\tvar autoplayDuration = SwipeUtil.getParameterByName(\"autoplayDuration\") || 1000;\n\t\t\t\tconsole.log(\"duatio \" + autoplayDuration);\n\t\t\t\tvar autoplay = function autoplay() {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tswipe_book.next();\n\t\t\t\t\t\tvar current = Number(location.hash.substr(1));\n\t\t\t\t\t\tconsole.log(swipe_book.getPageSize());\n\t\t\t\t\t\tif (swipe_book.getPageSize() > current + 1) {\n\t\t\t\t\t\t\tautoplay();\n\t\t\t\t\t\t} else if (SwipeUtil.getParameterByName(\"autoloop\") === \"1\") {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tswipe_book.show(0);\n\t\t\t\t\t\t\t\tautoplay();\n\t\t\t\t\t\t\t}, autoplayDuration);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, autoplayDuration);\n\t\t\t\t};\n\t\t\t\tautoplay();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"getSwipeBook\",\n\t\tvalue: function getSwipeBook() {\n\t\t\treturn this.swipe_book;\n\t\t}\n\t}, {\n\t\tkey: \"merge\",\n\t\tvalue: function merge(object1, object2) {\n\t\t\tvar newObject = {};\n\t\t\tvar keys = Object.keys(object1);\n\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\tnewObject[keys[i]] = object1[keys[i]];\n\t\t\t}\n\t\t\tkeys = Object.keys(object2);\n\t\t\tfor (i = 0; i < keys.length; i++) {\n\t\t\t\tnewObject[keys[i]] = object2[keys[i]];\n\t\t\t}\n\t\t\treturn newObject;\n\t\t}\n\t}, {\n\t\tkey: \"initTouchSwipe\",\n\t\tvalue: function initTouchSwipe(data) {\n\t\t\tvar css_id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"#swipe\";\n\t\t\tvar back_css_id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"#swipe_back\";\n\n\t\t\t$(document.body).css({ \"margin\": 0, \"padding\": 0, \"background-color\": \"#fff\", \"font-size\": \"26px\" });\n\t\t\t$('div').css({ \"margin\": 0, \"padding\": 0, \"background-color\": \"#fff\", \"font-size\": \"26px\" });\n\t\t\t$(back_css_id).css({ \"touch-action\": \"none\" });\n\n\t\t\tvar paging = data.paging || \"vertical\";\n\t\t\tvar swipe_book = new SwipeBook(data, 0, css_id, back_css_id);\n\t\t\tthis.swipe_book = swipe_book;\n\t\t\tthis.ratio = null;\n\t\t\t$(window).resize(function () {\n\t\t\t\tclearTimeout(window.resizedFinished);\n\t\t\t\twindow.resizedFinished = setTimeout(function () {\n\t\t\t\t\tswipe_book.resize();\n\t\t\t\t}, 250);\n\t\t\t});\n\n\t\t\t$.extend($.easing, {\n\t\t\t\tswipe: function swipe(x, t, b, c, d) {\n\t\t\t\t\treturn Math.abs(SwipeUtil.getRatio());\n\t\t\t\t},\n\t\t\t\tswipeangle: function swipeangle(x, t, b, c, d) {\n\t\t\t\t\treturn b + Math.abs(SwipeUtil.getRatio()) * c;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tSwipeTouch.init({\n\t\t\t\tstart_callback: SwipeUtil.start_event,\n\t\t\t\tscroll_callback: SwipeUtil.scroll_event_handler,\n\t\t\t\tstop_callback: SwipeUtil.stop_event,\n\t\t\t\tpaging: paging\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: \"getRatio\",\n\t\tvalue: function getRatio() {\n\t\t\treturn this.ratio;\n\t\t}\n\t}, {\n\t\tkey: \"setRatio\",\n\t\tvalue: function setRatio(ratio) {\n\t\t\tthis.ratio = ratio;\n\t\t}\n\t}, {\n\t\tkey: \"getStatus\",\n\t\tvalue: function getStatus() {\n\t\t\treturn this.status;\n\t\t}\n\t}, {\n\t\tkey: \"setStatus\",\n\t\tvalue: function setStatus(status) {\n\t\t\tthis.status = status;\n\t\t}\n\t}, {\n\t\tkey: \"start_event\",\n\t\tvalue: function start_event(event, ratio) {\n\t\t\tvar swipe_book = SwipeUtil.getSwipeBook();\n\t\t\tif (SwipeUtil.getStatus() == \"stopping\") {\n\t\t\t\tSwipeUtil.stop();\n\t\t\t}\n\t\t\tthis.ratio = 0;\n\t\t\tconsole.log(\"start ratio \" + String(ratio));\n\t\t\tSwipeUtil.setStatus(\"start\");\n\t\t}\n\t}, {\n\t\tkey: \"scroll_event_handler\",\n\t\tvalue: function scroll_event_handler(event, ratio) {\n\t\t\tvar currentStatus = \"start\";\n\t\t\tSwipeUtil.setRatio(ratio);\n\t\t\tif (ratio > 0) {\n\t\t\t\tcurrentStatus = \"forward\";\n\t\t\t}\n\t\t\tif (ratio < 0) {\n\t\t\t\tcurrentStatus = \"back\";\n\t\t\t}\n\n\t\t\tvar swipe_book = SwipeUtil.getSwipeBook();\n\t\t\tif (currentStatus != SwipeUtil.getStatus()) {\n\t\t\t\tif (currentStatus == \"forward\") {\n\t\t\t\t\tif (SwipeUtil.getStatus() == \"back\") {\n\t\t\t\t\t\tswipe_book.prevHide();\n\t\t\t\t\t}\n\t\t\t\t\tswipe_book.nextStart(ratio);\n\t\t\t\t}\n\t\t\t\tif (currentStatus == \"back\") {\n\t\t\t\t\tif (SwipeUtil.getStatus() == \"forward\") {\n\t\t\t\t\t\tswipe_book.nextHide();\n\t\t\t\t\t}\n\t\t\t\t\tswipe_book.prevStart(ratio);\n\t\t\t\t}\n\t\t\t\tSwipeUtil.setStatus(currentStatus);\n\t\t\t}\n\n\t\t\tswipe_book.view(ratio);\n\t\t}\n\t}, {\n\t\tkey: \"stop_event\",\n\t\tvalue: function stop_event(event, ratio) {\n\t\t\tSwipeUtil.setRatio(ratio);\n\t\t\tif (ratio > 0) {\n\t\t\t\tSwipeUtil.setStatus(\"stopping\");\n\t\t\t\tSwipeUtil.go_ratio(0.03);\n\t\t\t} else {\n\t\t\t\tSwipeUtil.setStatus(\"stopping\");\n\t\t\t\tSwipeUtil.go_ratio(-0.03);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"stop\",\n\t\tvalue: function stop() {\n\t\t\tvar swipe_book = SwipeUtil.getSwipeBook();\n\t\t\tSwipeUtil.setStatus(\"stop\");\n\t\t\tif (this.ratio > 0) {\n\t\t\t\tSwipeUtil.setRatio(1);\n\t\t\t\tswipe_book.nextEnd();\n\t\t\t} else if (this.ratio < 0) {\n\t\t\t\tSwipeUtil.setRatio(-1);\n\t\t\t\tswipe_book.prevEnd();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"go_ratio\",\n\t\tvalue: function go_ratio(delta) {\n\t\t\tif (SwipeUtil.getStatus() != \"stopping\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ratio = this.ratio + delta;\n\n\t\t\tvar swipe_book = SwipeUtil.getSwipeBook();\n\t\t\tif (Math.abs(this.ratio) > 1) {\n\t\t\t\tSwipeUtil.stop();\n\t\t\t} else {\n\t\t\t\tvar swipe_book = SwipeUtil.getSwipeBook();\n\t\t\t\tSwipeUtil.setRatio(this.ratio);\n\t\t\t\tswipe_book.view(this.ratio);\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tSwipeUtil.go_ratio(delta);\n\t\t\t\t}, 2);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"replaceObject\",\n\t\tvalue: function replaceObject(obj, key, replace) {\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tobj = obj.map(function (elem) {\n\t\t\t\t\treturn SwipeUtil.replaceObject(elem, key, replace);\n\t\t\t\t});\n\t\t\t\treturn obj;\n\t\t\t} else if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) === \"object\" && obj !== null) {\n\t\t\t\tObject.keys(obj).map(function (obj_key) {\n\t\t\t\t\tobj[obj_key] = SwipeUtil.replaceObject(obj[obj_key], key, replace);\n\t\t\t\t});\n\t\t\t\treturn obj;\n\t\t\t} else if (obj === key) {\n\t\t\t\treturn replace;\n\t\t\t} else {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn SwipeUtil;\n}();\n\nexports.default = SwipeUtil;\nmodule.exports = exports.default;\n\n//# sourceURL=webpack://%5Bname%5D/./lib/SwipeUtil.js?");

/***/ })

/******/ });
});